<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>maxflow-v3.0: Graph&lt; captype, tcaptype, flowtype &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>Graph&lt; captype, tcaptype, flowtype &gt; Class Template Reference</h1><!-- doxytag: class="Graph" -->Current instantiations are in <a class="el" href="instances_8inc.html">instances.inc</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="graph_8h-source.html">graph.h</a>&gt;</code>
<p>
<a href="class_graph-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">terminals  <a href="#742bf18e8f0945ef69830acf452b40b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#76f254e0f772a1fa47848daa3014daf6">arc_id</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63646221461386d35791b16a5dc4b56f824a">SOURCE</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63645a789c2410ba06db9cad42084c8471c9">SINK</a> = 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa6364">termtype</a> { <a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63646221461386d35791b16a5dc4b56f824a">SOURCE</a> =  0, 
<a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63645a789c2410ba06db9cad42084c8471c9">SINK</a> =  1
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#9eeccb2c9951aaa511583001a89a82b7">Graph</a> (int node_num_max, int edge_num_max, void(*err_function)(char *)=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(should be enough for most applications)  <a href="#9eeccb2c9951aaa511583001a89a82b7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#1c0dc12360184127bb6a801df705ff0d">~Graph</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#1c0dc12360184127bb6a801df705ff0d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#7a00b3b8101ad2b749364893a1dd951f">add_node</a> (int num=1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#11e1464f7a3a7b6b61da38684008f74a">add_edge</a> (<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i, <a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> j, captype cap, captype rev_cap)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#fca786c35bad01bdb357cb45e654b6d7">add_tweights</a> (<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i, tcaptype cap_source, tcaptype cap_sink)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">flowtype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow</a> (bool reuse_trees=false, <a class="el" href="class_block.html">Block</a>&lt; <a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> &gt; *<a class="el" href="class_graph.html#e05ccb8872211d6eb74d62813408bd65">changed_list</a>=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa6364">termtype</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#c73a2f17861930048daf119eb5b12914">what_segment</a> (<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i, <a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa6364">termtype</a> default_segm=SOURCE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#e9325d452bf8e1cd354c221dfa3df434">reset</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1arc.html">arc_id</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#ff39963d5ddad4844ed2d8e8e0f092c9">get_first_arc</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1arc.html">arc_id</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#29644816d0e12766405e7e68d07d5e07">get_next_arc</a> (<a class="el" href="struct_graph_1_1arc.html">arc_id</a> a)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#2c424a880efd2a31001e0bcdab666b81">get_node_num</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">other functions for reading graph structure  <a href="#2c424a880efd2a31001e0bcdab666b81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#6202717d16ae06901eebd343054acad6">get_arc_num</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#d2fa65edcffe83e29d9241766ee27bb9">get_arc_ends</a> (<a class="el" href="struct_graph_1_1arc.html">arc_id</a> a, <a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> &amp;i, <a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> &amp;j)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tcaptype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#5741eded8a2350674d7b9e519c9dcbe7">get_trcap</a> (<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns residual capacity of SOURCE-&gt;i minus residual capacity of i-&gt;SINK  <a href="#5741eded8a2350674d7b9e519c9dcbe7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">captype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#627bd05ba4922b554d3be7d1acff2da6">get_rcap</a> (<a class="el" href="struct_graph_1_1arc.html">arc</a> *a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns residual capacity of arc a  <a href="#627bd05ba4922b554d3be7d1acff2da6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#1e70647d3bef8f7270048155f211fdec">set_trcap</a> (<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i, tcaptype trcap)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#963cd0b35c590984cc0dd82a57527a53">set_rcap</a> (<a class="el" href="struct_graph_1_1arc.html">arc</a> *a, captype rcap)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#4416a1275b95a7c98b334498697a0587">mark_node</a> (<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#7f8a692e81693a0d3c3b41b5e5552b15">remove_from_changed_list</a> (<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#696acec5e654a2442d023b38ca9f2000">start_save</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#40aa2e1d69ed0d2499b4fdee93700359">stop_save</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#66b0812d7c9d531c6c3e13e64c0b92eb">restore_arc</a> (<a class="el" href="struct_graph_1_1arc.html">arc</a> *dest, const <a class="el" href="struct_graph_1_1arc.html">arc</a> &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#aedea8c0309c9241a387a8e69fe1873d">restore_node</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *dest, const <a class="el" href="struct_graph_1_1node.html">node</a> &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#eb97f74ce64e219b63358ffcdaeda11b">restore_saved</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#31284b575c75e0acb1008fd36c31e667">save_node</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#ff60768174321e83322d0933a8355fb2">save_arc</a> (<a class="el" href="struct_graph_1_1arc.html">arc</a> *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#9b4432eec7ce4e65f0fb927efafa7070">save</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#f17ecad9e940bf061b7736c9c27eaa3b">save</a> (<a class="el" href="struct_graph_1_1node.html">node</a> &amp;x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#c2dc9be75747b0fc54ce41f4963c2e53">save</a> (<a class="el" href="struct_graph_1_1arc.html">arc</a> *x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#243095ddfd5f94c57b651f4f92df74fb">save</a> (<a class="el" href="struct_graph_1_1arc.html">arc</a> &amp;x)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_graph_1_1graph__save.html">graph_save</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a></td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#98ad17492bae402267e6e155ba31b7eb">reallocate_nodes</a> (int num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">monotonically increasing global counter  <a href="#98ad17492bae402267e6e155ba31b7eb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#e973168dce8a6144c2a50ca2ea93376a">reallocate_arcs</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">num is the number of new nodes  <a href="#e973168dce8a6144c2a50ca2ea93376a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">functions for processing active list  <a href="#f812cf6d4cdaec3551a768364d58b72b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#55ad5e744aa98c1f8a39b85c12a5c5d6">next_active</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#344a279a68b63feee27082fd1a96a7d0">set_orphan_front</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">functions for processing orphans list  <a href="#344a279a68b63feee27082fd1a96a7d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#20e2f41b191c086ee67b85a72daffdfe">set_orphan_rear</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add to the beginning of the list  <a href="#20e2f41b191c086ee67b85a72daffdfe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#c55aa601858ada46d7d23e97539f6d93">add_to_changed_list</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add to the end of the list  <a href="#c55aa601858ada46d7d23e97539f6d93"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#955bf5b5522bac6f75ddbdb189b78b0c">maxflow_init</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#d647cb5469788fe3c2cdd93d5d36444d">maxflow_reuse_trees_init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called if reuse_trees == false  <a href="#d647cb5469788fe3c2cdd93d5d36444d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#ec68da456d839f925efd7fc8dd6c404a">augment</a> (<a class="el" href="struct_graph_1_1arc.html">arc</a> *middle_arc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called if reuse_trees == true  <a href="#ec68da456d839f925efd7fc8dd6c404a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#0762bbe440224d76e860cfcfe65ef5a8">process_source_orphan</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *i)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#c9c4066a3f849ebc4de563eef0c49e86">process_sink_orphan</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *i)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#d821d9d5886800f2db0119063fbb2125">test_consistency</a> (<a class="el" href="struct_graph_1_1node.html">node</a> *current_node=NULL)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#cdef9be1536a836e4fd707a2adf0ac9d">node_max</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">node_last = nodes+node_num, node_max = nodes+node_num_max;  <a href="#cdef9be1536a836e4fd707a2adf0ac9d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#42d7616b455d6ac73b7358b5537c5bdd">arc_max</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">arc_last = arcs+2*edge_num, arc_max = arcs+2*edge_num_max;  <a href="#42d7616b455d6ac73b7358b5537c5bdd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_d_block.html">DBlock</a>&lt; <a class="el" href="struct_graph_1_1nodeptr.html">nodeptr</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a> )(char *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">flowtype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reusing trees &amp; list of changed pixels  <a href="#59f153549f029402b85eb8a997a3a0cd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_block.html">Block</a>&lt; <a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#e05ccb8872211d6eb74d62813408bd65">changed_list</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">counter  <a href="#e05ccb8872211d6eb74d62813408bd65"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a> [2]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a> [2]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1nodeptr.html">nodeptr</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list of active nodes  <a href="#f5ff91ef00947cffe6fda5bcbe02be08"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_graph_1_1nodeptr.html">nodeptr</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list of pointers to orphans  <a href="#35a468d93b39f8b11f9d9aa78b18e864"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph.html#0f8bacba8049163f972d989cd810c610">NODEPTR_BLOCK_SIZE</a> = 128</td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_graph_1_1arc.html">arc</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_graph_1_1graph__save.html">graph_save</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">debug function  <a href="class_graph_1_1graph__save.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_graph_1_1node.html">node</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">internal variables and functions  <a href="struct_graph_1_1node.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_graph_1_1nodeptr.html">nodeptr</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename captype, typename tcaptype, typename flowtype&gt;<br>
 class Graph&lt; captype, tcaptype, flowtype &gt;</h3>

Current instantiations are in <a class="el" href="instances_8inc.html">instances.inc</a>. 
<p>
captype: type of edge capacities (excluding t-links) tcaptype: type of t-links (edges between nodes and terminals) flowtype: type of total flow 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00057">57</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="76f254e0f772a1fa47848daa3014daf6"></a><!-- doxytag: member="Graph::arc_id" ref="76f254e0f772a1fa47848daa3014daf6" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_graph_1_1arc.html">arc</a>* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="struct_graph_1_1arc.html">arc_id</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The following two functions return arcs in the same order that they were added to the graph. NOTE: for each call add_edge(i,j,cap,cap_rev) the first arc returned will be i-&gt;j, and the second j-&gt;i. If there are no more arcs, then the function can still be called, but the returned arc_id is undetermined. 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00158">158</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="742bf18e8f0945ef69830acf452b40b0"></a><!-- doxytag: member="Graph::node_id" ref="742bf18e8f0945ef69830acf452b40b0" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
terminals 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00065">65</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="cf169ecfcbdb40fa5958e59a6daa6364"></a><!-- doxytag: member="Graph::termtype" ref="cf169ecfcbdb40fa5958e59a6daa6364" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa6364">Graph::termtype</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="cf169ecfcbdb40fa5958e59a6daa63646221461386d35791b16a5dc4b56f824a"></a><!-- doxytag: member="SOURCE" ref="cf169ecfcbdb40fa5958e59a6daa63646221461386d35791b16a5dc4b56f824a" args="" -->SOURCE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="cf169ecfcbdb40fa5958e59a6daa63645a789c2410ba06db9cad42084c8471c9"></a><!-- doxytag: member="SINK" ref="cf169ecfcbdb40fa5958e59a6daa63645a789c2410ba06db9cad42084c8471c9" args="" -->SINK</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00060">60</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00061"></a>00061         {
<a name="l00062"></a>00062                 <a class="code" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63646221461386d35791b16a5dc4b56f824a">SOURCE</a>  = 0,
<a name="l00063"></a>00063                 <a class="code" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63645a789c2410ba06db9cad42084c8471c9">SINK</a>    = 1
<a name="l00064"></a>00064         } <a class="code" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa6364">termtype</a>; 
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9eeccb2c9951aaa511583001a89a82b7"></a><!-- doxytag: member="Graph::Graph" ref="9eeccb2c9951aaa511583001a89a82b7" args="(int node_num_max, int edge_num_max, void(*err_function)(char *)=NULL)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html">Graph</a>           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>node_num_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>edge_num_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>err_function</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
(should be enough for most applications) 
<p>
Constructor. The first argument gives an estimate of the maximum number of nodes that can be added to the graph, and the second argument is an estimate of the maximum number of edges. The last (optional) argument is the pointer to the function which will be called if an error occurs; an error message is passed to this function. If this argument is omitted, exit(1) will be called.<p>
IMPORTANT: It is possible to add more nodes to the graph than node_num_max (and node_num_max can be zero). However, if the count is exceeded, then the internal memory is reallocated (increased by 50%) which is expensive. Also, temporarily the amount of allocated memory would be more than twice than needed. Similarly for edges. If you wish to avoid this overhead, you can download version 2.2, where nodes and edges are stored in blocks. 
<p>
Definition at line <a class="el" href="graph_8cpp-source.html#l00012">12</a> of file <a class="el" href="graph_8cpp-source.html">graph.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00013"></a>00013         : <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>(0),
<a name="l00014"></a>00014           <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a>(NULL),
<a name="l00015"></a>00015           <a class="code" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>(err_function)
<a name="l00016"></a>00016 {
<a name="l00017"></a>00017         <span class="keywordflow">if</span> (node_num_max &lt; 16) node_num_max = 16;
<a name="l00018"></a>00018         <span class="keywordflow">if</span> (edge_num_max &lt; 16) edge_num_max = 16;
<a name="l00019"></a>00019 
<a name="l00020"></a>00020         <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> = (node*) malloc(node_num_max*<span class="keyword">sizeof</span>(node));
<a name="l00021"></a>00021         <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> = (arc*) malloc(2*edge_num_max*<span class="keyword">sizeof</span>(arc));
<a name="l00022"></a>00022         <span class="keywordflow">if</span> (!<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> || !<a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>) { <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>) (*error_function)(<span class="stringliteral">"Not enough memory!"</span>); exit(1); }
<a name="l00023"></a>00023 
<a name="l00024"></a>00024         <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>;
<a name="l00025"></a>00025         <a class="code" href="class_graph.html#cdef9be1536a836e4fd707a2adf0ac9d">node_max</a> = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> + node_num_max;
<a name="l00026"></a>00026         <a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> = <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>;
<a name="l00027"></a>00027         <a class="code" href="class_graph.html#42d7616b455d6ac73b7358b5537c5bdd">arc_max</a> = <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> + 2*edge_num_max;
<a name="l00028"></a>00028 
<a name="l00029"></a>00029         <a class="code" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a> = 0;
<a name="l00030"></a>00030         <a class="code" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a> = 0;
<a name="l00031"></a>00031 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1c0dc12360184127bb6a801df705ff0d"></a><!-- doxytag: member="Graph::~Graph" ref="1c0dc12360184127bb6a801df705ff0d" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::~<a class="el" href="class_graph.html">Graph</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

<p>
Definition at line <a class="el" href="graph_8cpp-source.html#l00034">34</a> of file <a class="el" href="graph_8cpp-source.html">graph.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00035"></a>00035 {
<a name="l00036"></a>00036         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a>) 
<a name="l00037"></a>00037         { 
<a name="l00038"></a>00038                 <span class="keyword">delete</span> <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a>; 
<a name="l00039"></a>00039                 <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> = NULL; 
<a name="l00040"></a>00040         }
<a name="l00041"></a>00041         free(<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>);
<a name="l00042"></a>00042         free(<a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>);
<a name="l00043"></a>00043 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="11e1464f7a3a7b6b61da38684008f74a"></a><!-- doxytag: member="Graph::add_edge" ref="11e1464f7a3a7b6b61da38684008f74a" args="(node_id i, node_id j, captype cap, captype rev_cap)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::add_edge           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">captype&nbsp;</td>
          <td class="paramname"> <em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">captype&nbsp;</td>
          <td class="paramname"> <em>rev_cap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a bidirectional edge between 'i' and 'j' with the weights 'cap' and 'rev_cap'. IMPORTANT: see note about the constructor 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00517">517</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00518"></a>00518 {
<a name="l00519"></a>00519         assert(_i &gt;= 0 &amp;&amp; _i &lt; <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>);
<a name="l00520"></a>00520         assert(_j &gt;= 0 &amp;&amp; _j &lt; <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>);
<a name="l00521"></a>00521         assert(_i != _j);
<a name="l00522"></a>00522         assert(cap &gt;= 0);
<a name="l00523"></a>00523         assert(rev_cap &gt;= 0);
<a name="l00524"></a>00524 
<a name="l00525"></a>00525         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> == <a class="code" href="class_graph.html#42d7616b455d6ac73b7358b5537c5bdd">arc_max</a>) <a class="code" href="class_graph.html#e973168dce8a6144c2a50ca2ea93376a">reallocate_arcs</a>();
<a name="l00526"></a>00526 
<a name="l00527"></a>00527         arc *a = <a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> ++;
<a name="l00528"></a>00528         arc *a_rev = <a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> ++;
<a name="l00529"></a>00529 
<a name="l00530"></a>00530         node* i = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> + _i;
<a name="l00531"></a>00531         node* j = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> + _j;
<a name="l00532"></a>00532         
<a name="l00533"></a>00533         a -&gt; sister = a_rev;
<a name="l00534"></a>00534         a_rev -&gt; sister = a;
<a name="l00535"></a>00535         a -&gt; next = i -&gt; first;
<a name="l00536"></a>00536         i -&gt; first = a;
<a name="l00537"></a>00537         a_rev -&gt; next = j -&gt; first;
<a name="l00538"></a>00538         j -&gt; first = a_rev;
<a name="l00539"></a>00539         a -&gt; head = j;
<a name="l00540"></a>00540         a_rev -&gt; head = i;
<a name="l00541"></a>00541         a -&gt; r_cap = cap;
<a name="l00542"></a>00542         a_rev -&gt; r_cap = rev_cap;
<a name="l00543"></a>00543 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7a00b3b8101ad2b749364893a1dd951f"></a><!-- doxytag: member="Graph::add_node" ref="7a00b3b8101ad2b749364893a1dd951f" args="(int num=1)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::add_node           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num</em> = <code>1</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds node(s) to the graph. By default, one node is added (num=1); then first call returns 0, second call returns 1, and so on. If num&gt;1, then several nodes are added, and node_id of the first one is returned. IMPORTANT: see note about the constructor 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00476">476</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00477"></a>00477 {
<a name="l00478"></a>00478         assert(num &gt; 0);
<a name="l00479"></a>00479 
<a name="l00480"></a>00480         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> + num &gt; <a class="code" href="class_graph.html#cdef9be1536a836e4fd707a2adf0ac9d">node_max</a>) <a class="code" href="class_graph.html#98ad17492bae402267e6e155ba31b7eb">reallocate_nodes</a>(num);
<a name="l00481"></a>00481 
<a name="l00482"></a>00482         <span class="keywordflow">if</span> (num == 1)
<a name="l00483"></a>00483         {
<a name="l00484"></a>00484                 <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> -&gt; first = NULL;
<a name="l00485"></a>00485                 <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> -&gt; tr_cap = 0;
<a name="l00486"></a>00486                 <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> -&gt; is_marked = 0;
<a name="l00487"></a>00487                 <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> -&gt; is_in_changed_list = 0;
<a name="l00488"></a>00488 
<a name="l00489"></a>00489                 <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> ++;
<a name="l00490"></a>00490                 <span class="keywordflow">return</span> <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>++;
<a name="l00491"></a>00491         }
<a name="l00492"></a>00492         <span class="keywordflow">else</span>
<a name="l00493"></a>00493         {
<a name="l00494"></a>00494                 memset(<a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a>, 0, num*<span class="keyword">sizeof</span>(node));
<a name="l00495"></a>00495 
<a name="l00496"></a>00496                 <a class="code" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> i = <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>;
<a name="l00497"></a>00497                 <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a> += num;
<a name="l00498"></a>00498                 <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> += num;
<a name="l00499"></a>00499                 <span class="keywordflow">return</span> i;
<a name="l00500"></a>00500         }
<a name="l00501"></a>00501 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c55aa601858ada46d7d23e97539f6d93"></a><!-- doxytag: member="Graph::add_to_changed_list" ref="c55aa601858ada46d7d23e97539f6d93" args="(node *i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::add_to_changed_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
add to the end of the list 
<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00107">107</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00108"></a>00108 {
<a name="l00109"></a>00109         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#e05ccb8872211d6eb74d62813408bd65">changed_list</a> &amp;&amp; !i-&gt;is_in_changed_list)
<a name="l00110"></a>00110         {
<a name="l00111"></a>00111                 <a class="code" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>* ptr = <a class="code" href="class_graph.html#e05ccb8872211d6eb74d62813408bd65">changed_list</a>-&gt;New();
<a name="l00112"></a>00112                 *ptr = (<a class="code" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>)(i - <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>);
<a name="l00113"></a>00113                 i-&gt;is_in_changed_list = <span class="keyword">true</span>;
<a name="l00114"></a>00114         }
<a name="l00115"></a>00115 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fca786c35bad01bdb357cb45e654b6d7"></a><!-- doxytag: member="Graph::add_tweights" ref="fca786c35bad01bdb357cb45e654b6d7" args="(node_id i, tcaptype cap_source, tcaptype cap_sink)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::add_tweights           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tcaptype&nbsp;</td>
          <td class="paramname"> <em>cap_source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tcaptype&nbsp;</td>
          <td class="paramname"> <em>cap_sink</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds new edges 'SOURCE-&gt;i' and 'i-&gt;SINK' with corresponding weights. Can be called multiple times for each node. Weights can be negative. NOTE: the number of such edges is not counted in edge_num_max. No internal memory is allocated by this call. 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00504">504</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00505"></a>00505 {
<a name="l00506"></a>00506         assert(i &gt;= 0 &amp;&amp; i &lt; <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>);
<a name="l00507"></a>00507 
<a name="l00508"></a>00508         tcaptype delta = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].<a class="code" href="struct_graph_1_1node.html#65b4deb17b74e191c3b971fce4d16024">tr_cap</a>;
<a name="l00509"></a>00509         <span class="keywordflow">if</span> (delta &gt; 0) cap_source += delta;
<a name="l00510"></a>00510         <span class="keywordflow">else</span>           cap_sink   -= delta;
<a name="l00511"></a>00511         <a class="code" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a> += (cap_source &lt; cap_sink) ? cap_source : cap_sink;
<a name="l00512"></a>00512         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i]);
<a name="l00513"></a>00513         <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].<a class="code" href="struct_graph_1_1node.html#65b4deb17b74e191c3b971fce4d16024">tr_cap</a> = cap_source - cap_sink;
<a name="l00514"></a>00514 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ec68da456d839f925efd7fc8dd6c404a"></a><!-- doxytag: member="Graph::augment" ref="ec68da456d839f925efd7fc8dd6c404a" args="(arc *middle_arc)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::augment           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td>
          <td class="paramname"> <em>middle_arc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
called if reuse_trees == true 
<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00245">245</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00246"></a>00246 {
<a name="l00247"></a>00247         node *i;
<a name="l00248"></a>00248         arc *a;
<a name="l00249"></a>00249         tcaptype bottleneck;
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252         <span class="comment">/* 1. Finding bottleneck capacity */</span>
<a name="l00253"></a>00253         <span class="comment">/* 1a - the source tree */</span>
<a name="l00254"></a>00254         bottleneck = middle_arc -&gt; r_cap;
<a name="l00255"></a>00255         <span class="keywordflow">for</span> (i=middle_arc-&gt;sister-&gt;head; ; i=a-&gt;head)
<a name="l00256"></a>00256         {
<a name="l00257"></a>00257                 a = i -&gt; parent;
<a name="l00258"></a>00258                 <span class="keywordflow">if</span> (a == <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>) <span class="keywordflow">break</span>;
<a name="l00259"></a>00259                 <span class="keywordflow">if</span> (bottleneck &gt; a-&gt;sister-&gt;r_cap) bottleneck = a -&gt; sister -&gt; r_cap;
<a name="l00260"></a>00260         }
<a name="l00261"></a>00261         <span class="keywordflow">if</span> (bottleneck &gt; i-&gt;tr_cap) bottleneck = i -&gt; tr_cap;
<a name="l00262"></a>00262         <span class="comment">/* 1b - the sink tree */</span>
<a name="l00263"></a>00263         <span class="keywordflow">for</span> (i=middle_arc-&gt;head; ; i=a-&gt;head)
<a name="l00264"></a>00264         {
<a name="l00265"></a>00265                 a = i -&gt; parent;
<a name="l00266"></a>00266                 <span class="keywordflow">if</span> (a == <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>) <span class="keywordflow">break</span>;
<a name="l00267"></a>00267                 <span class="keywordflow">if</span> (bottleneck &gt; a-&gt;r_cap) bottleneck = a -&gt; r_cap;
<a name="l00268"></a>00268         }
<a name="l00269"></a>00269         <span class="keywordflow">if</span> (bottleneck &gt; - i-&gt;tr_cap) bottleneck = - i -&gt; tr_cap;
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 
<a name="l00272"></a>00272         <span class="comment">/* 2. Augmenting */</span>
<a name="l00273"></a>00273         <span class="comment">/* 2a - the source tree */</span>
<a name="l00274"></a>00274         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(middle_arc -&gt; sister);
<a name="l00275"></a>00275         middle_arc -&gt; sister -&gt; r_cap += bottleneck;
<a name="l00276"></a>00276         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(middle_arc);
<a name="l00277"></a>00277         middle_arc -&gt; r_cap -= bottleneck;
<a name="l00278"></a>00278         <span class="keywordflow">for</span> (i=middle_arc-&gt;sister-&gt;head; ; i=a-&gt;head)
<a name="l00279"></a>00279         {
<a name="l00280"></a>00280                 a = i -&gt; parent;
<a name="l00281"></a>00281                 <span class="keywordflow">if</span> (a == <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>) <span class="keywordflow">break</span>;
<a name="l00282"></a>00282                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(a);
<a name="l00283"></a>00283                 a -&gt; r_cap += bottleneck;
<a name="l00284"></a>00284                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(a -&gt; sister);
<a name="l00285"></a>00285                 a -&gt; sister -&gt; r_cap -= bottleneck;
<a name="l00286"></a>00286                 <span class="keywordflow">if</span> (!a-&gt;sister-&gt;r_cap)
<a name="l00287"></a>00287                 {
<a name="l00288"></a>00288                         <a class="code" href="class_graph.html#344a279a68b63feee27082fd1a96a7d0">set_orphan_front</a>(i); <span class="comment">// add i to the beginning of the adoption list</span>
<a name="l00289"></a>00289                 }
<a name="l00290"></a>00290         }
<a name="l00291"></a>00291         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(i);
<a name="l00292"></a>00292         i -&gt; tr_cap -= bottleneck;
<a name="l00293"></a>00293         <span class="keywordflow">if</span> (!i-&gt;tr_cap)
<a name="l00294"></a>00294         {
<a name="l00295"></a>00295                 <a class="code" href="class_graph.html#344a279a68b63feee27082fd1a96a7d0">set_orphan_front</a>(i); <span class="comment">// add i to the beginning of the adoption list</span>
<a name="l00296"></a>00296         }
<a name="l00297"></a>00297         <span class="comment">/* 2b - the sink tree */</span>
<a name="l00298"></a>00298         <span class="keywordflow">for</span> (i=middle_arc-&gt;head; ; i=a-&gt;head)
<a name="l00299"></a>00299         {
<a name="l00300"></a>00300                 a = i -&gt; parent;
<a name="l00301"></a>00301                 <span class="keywordflow">if</span> (a == <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>) <span class="keywordflow">break</span>;
<a name="l00302"></a>00302                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(a-&gt;sister);
<a name="l00303"></a>00303                 a -&gt; sister -&gt; r_cap += bottleneck;
<a name="l00304"></a>00304                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(a);
<a name="l00305"></a>00305                 a -&gt; r_cap -= bottleneck;
<a name="l00306"></a>00306                 <span class="keywordflow">if</span> (!a-&gt;r_cap)
<a name="l00307"></a>00307                 {
<a name="l00308"></a>00308                         <a class="code" href="class_graph.html#344a279a68b63feee27082fd1a96a7d0">set_orphan_front</a>(i); <span class="comment">// add i to the beginning of the adoption list</span>
<a name="l00309"></a>00309                 }
<a name="l00310"></a>00310         }
<a name="l00311"></a>00311         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(i);
<a name="l00312"></a>00312         i -&gt; tr_cap += bottleneck;
<a name="l00313"></a>00313         <span class="keywordflow">if</span> (!i-&gt;tr_cap)
<a name="l00314"></a>00314         {
<a name="l00315"></a>00315                 <a class="code" href="class_graph.html#344a279a68b63feee27082fd1a96a7d0">set_orphan_front</a>(i); <span class="comment">// add i to the beginning of the adoption list</span>
<a name="l00316"></a>00316         }
<a name="l00317"></a>00317 
<a name="l00318"></a>00318         <a class="code" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a> += bottleneck;
<a name="l00319"></a>00319 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d2fa65edcffe83e29d9241766ee27bb9"></a><!-- doxytag: member="Graph::get_arc_ends" ref="d2fa65edcffe83e29d9241766ee27bb9" args="(arc_id a, node_id &amp;i, node_id &amp;j)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::get_arc_ends           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc_id</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>j</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6202717d16ae06901eebd343054acad6"></a><!-- doxytag: member="Graph::get_arc_num" ref="6202717d16ae06901eebd343054acad6" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::get_arc_num           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00164">164</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00164"></a>00164 { <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(<a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> - <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ff39963d5ddad4844ed2d8e8e0f092c9"></a><!-- doxytag: member="Graph::get_first_arc" ref="ff39963d5ddad4844ed2d8e8e0f092c9" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="struct_graph_1_1arc.html">arc</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::get_first_arc           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00546">546</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00547"></a>00547 {
<a name="l00548"></a>00548         <span class="keywordflow">return</span> <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>;
<a name="l00549"></a>00549 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="29644816d0e12766405e7e68d07d5e07"></a><!-- doxytag: member="Graph::get_next_arc" ref="29644816d0e12766405e7e68d07d5e07" args="(arc_id a)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1arc.html">arc_id</a> <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::get_next_arc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc_id</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2c424a880efd2a31001e0bcdab666b81"></a><!-- doxytag: member="Graph::get_node_num" ref="2c424a880efd2a31001e0bcdab666b81" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::get_node_num           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
other functions for reading graph structure 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00163">163</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00163"></a>00163 { <span class="keywordflow">return</span> <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="627bd05ba4922b554d3be7d1acff2da6"></a><!-- doxytag: member="Graph::get_rcap" ref="627bd05ba4922b554d3be7d1acff2da6" args="(arc *a)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">captype <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::get_rcap           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns residual capacity of arc a 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00573">573</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00574"></a>00574 {
<a name="l00575"></a>00575         assert(a &gt;= <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> &amp;&amp; a &lt; <a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a>);
<a name="l00576"></a>00576         <span class="keywordflow">return</span> a-&gt;r_cap;
<a name="l00577"></a>00577 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5741eded8a2350674d7b9e519c9dcbe7"></a><!-- doxytag: member="Graph::get_trcap" ref="5741eded8a2350674d7b9e519c9dcbe7" args="(node_id i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">tcaptype <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::get_trcap           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns residual capacity of SOURCE-&gt;i minus residual capacity of i-&gt;SINK 
<p>
3. Functions for reading residual capacities. // 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00566">566</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00567"></a>00567 {
<a name="l00568"></a>00568         assert(i&gt;=0 &amp;&amp; i&lt;<a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>);
<a name="l00569"></a>00569         <span class="keywordflow">return</span> <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].<a class="code" href="struct_graph_1_1node.html#65b4deb17b74e191c3b971fce4d16024">tr_cap</a>;
<a name="l00570"></a>00570 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4416a1275b95a7c98b334498697a0587"></a><!-- doxytag: member="Graph::mark_node" ref="4416a1275b95a7c98b334498697a0587" args="(node_id i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::mark_node           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If flag reuse_trees is true while calling <a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow()</a>, then search trees are reused from previous maxflow computation. In this case before calling <a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow()</a> the user must specify which parts of the graph have changed by calling <a class="el" href="class_graph.html#4416a1275b95a7c98b334498697a0587">mark_node()</a>: add_tweights(i),set_trcap(i) =&gt; call mark_node(i) add_edge(i,j),set_rcap(a) =&gt; call mark_node(i); mark_node(j)<p>
This option makes sense only if a small part of the graph is changed. The initialization procedure goes only through marked nodes then.<p>
mark_node(i) can either be called before or after graph modification. Can be called more than once per node, but calls after the first one do not have any effect.<p>
NOTE:<ul>
<li>This option cannot be used in the first call to <a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow()</a>.</li><li>It is not necessary to call <a class="el" href="class_graph.html#4416a1275b95a7c98b334498697a0587">mark_node()</a> if the change is ``not essential'', i.e. sign(trcap) is preserved for a node and zero/nonzero status is preserved for an arc.</li><li>To check that you marked all necessary nodes, you can call maxflow(false) after calling maxflow(true). If everything is correct, the two calls must return the same value of flow. (Useful for debugging). </li></ul>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00609">609</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00610"></a>00610 {
<a name="l00611"></a>00611         node* i = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> + _i;
<a name="l00612"></a>00612         <span class="keywordflow">if</span> (!i-&gt;next)
<a name="l00613"></a>00613         {
<a name="l00614"></a>00614                 <span class="comment">/* it's not in the list yet */</span>
<a name="l00615"></a>00615                 <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1]) <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1] -&gt; next = i;
<a name="l00616"></a>00616                 <span class="keywordflow">else</span>               <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[1]        = i;
<a name="l00617"></a>00617                 <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1] = i;
<a name="l00618"></a>00618                 i -&gt; next = i;
<a name="l00619"></a>00619         }
<a name="l00620"></a>00620         i-&gt;<a class="code" href="struct_graph_1_1node.html#8ce9a45342a5fdbf1288eddd8cbacff0">is_marked</a> = 1;
<a name="l00621"></a>00621 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3e08e85ad9530ecaac1e4c966cd68b1d"></a><!-- doxytag: member="Graph::maxflow" ref="3e08e85ad9530ecaac1e4c966cd68b1d" args="(bool reuse_trees=false, Block&lt; node_id &gt; *changed_list=NULL)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">flowtype <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::maxflow           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>reuse_trees</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_block.html">Block</a>&lt; <a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>changed_list</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the maxflow. Can be called several times. FOR DESCRIPTION OF reuse_trees, SEE <a class="el" href="class_graph.html#4416a1275b95a7c98b334498697a0587">mark_node()</a>. FOR DESCRIPTION OF changed_list, SEE <a class="el" href="class_graph.html#7f8a692e81693a0d3c3b41b5e5552b15">remove_from_changed_list()</a>. 
<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00480">480</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00481"></a>00481 {
<a name="l00482"></a>00482         node *i, *j, *current_node = NULL;
<a name="l00483"></a>00483         arc *a;
<a name="l00484"></a>00484         nodeptr *np, *np_next;
<a name="l00485"></a>00485 
<a name="l00486"></a>00486         <span class="keywordflow">if</span> (!<a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a>)
<a name="l00487"></a>00487         {
<a name="l00488"></a>00488                 <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> = <span class="keyword">new</span> <a class="code" href="class_d_block.html">DBlock&lt;nodeptr&gt;</a>(<a class="code" href="class_graph.html#0f8bacba8049163f972d989cd810c610">NODEPTR_BLOCK_SIZE</a>, <a class="code" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>);
<a name="l00489"></a>00489         }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491         <a class="code" href="class_graph.html#e05ccb8872211d6eb74d62813408bd65">changed_list</a> = _changed_list;
<a name="l00492"></a>00492         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a> == 0 &amp;&amp; reuse_trees) { <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>) (*error_function)(<span class="stringliteral">"reuse_trees cannot be used in the first call to maxflow()!"</span>); exit(1); }
<a name="l00493"></a>00493         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#e05ccb8872211d6eb74d62813408bd65">changed_list</a> &amp;&amp; !reuse_trees) { <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>) (*error_function)(<span class="stringliteral">"changed_list cannot be used without reuse_trees!"</span>); exit(1); }
<a name="l00494"></a>00494 
<a name="l00495"></a>00495         <span class="keywordflow">if</span> (reuse_trees) <a class="code" href="class_graph.html#d647cb5469788fe3c2cdd93d5d36444d">maxflow_reuse_trees_init</a>();
<a name="l00496"></a>00496         <span class="keywordflow">else</span>             <a class="code" href="class_graph.html#955bf5b5522bac6f75ddbdb189b78b0c">maxflow_init</a>();
<a name="l00497"></a>00497 
<a name="l00498"></a>00498         <span class="comment">// main loop</span>
<a name="l00499"></a>00499         <span class="keywordflow">while</span> ( 1 )
<a name="l00500"></a>00500         {
<a name="l00501"></a>00501                 <span class="comment">// test_consistency(current_node);</span>
<a name="l00502"></a>00502 
<a name="l00503"></a>00503                 <span class="keywordflow">if</span> ((i=current_node))
<a name="l00504"></a>00504                 {
<a name="l00505"></a>00505                         i -&gt; next = NULL; <span class="comment">/* remove active flag */</span>
<a name="l00506"></a>00506                         <span class="keywordflow">if</span> (!i-&gt;parent) i = NULL;
<a name="l00507"></a>00507                 }
<a name="l00508"></a>00508                 <span class="keywordflow">if</span> (!i)
<a name="l00509"></a>00509                 {
<a name="l00510"></a>00510                         <span class="keywordflow">if</span> (!(i = <a class="code" href="class_graph.html#55ad5e744aa98c1f8a39b85c12a5c5d6">next_active</a>())) <span class="keywordflow">break</span>;
<a name="l00511"></a>00511                 }
<a name="l00512"></a>00512 
<a name="l00513"></a>00513                 <span class="comment">/* growth */</span>
<a name="l00514"></a>00514                 <span class="keywordflow">if</span> (!i-&gt;is_sink)
<a name="l00515"></a>00515                 {
<a name="l00516"></a>00516                         <span class="comment">/* grow source tree */</span>
<a name="l00517"></a>00517                         <span class="keywordflow">for</span> (a=i-&gt;first; a; a=a-&gt;next)
<a name="l00518"></a>00518                         <span class="keywordflow">if</span> (a-&gt;r_cap)
<a name="l00519"></a>00519                         {
<a name="l00520"></a>00520                                 j = a -&gt; head;
<a name="l00521"></a>00521                                 <span class="keywordflow">if</span> (!j-&gt;parent)
<a name="l00522"></a>00522                                 {
<a name="l00523"></a>00523                                         j -&gt; is_sink = 0;
<a name="l00524"></a>00524                                         j -&gt; parent = a -&gt; sister;
<a name="l00525"></a>00525                                         j -&gt; TS = i -&gt; TS;
<a name="l00526"></a>00526                                         j -&gt; DIST = i -&gt; DIST + 1;
<a name="l00527"></a>00527                                         <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(j);
<a name="l00528"></a>00528                                         <a class="code" href="class_graph.html#c55aa601858ada46d7d23e97539f6d93">add_to_changed_list</a>(j);
<a name="l00529"></a>00529                                 }
<a name="l00530"></a>00530                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j-&gt;is_sink) <span class="keywordflow">break</span>;
<a name="l00531"></a>00531                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j-&gt;TS &lt;= i-&gt;TS &amp;&amp;
<a name="l00532"></a>00532                                          j-&gt;DIST &gt; i-&gt;DIST)
<a name="l00533"></a>00533                                 {
<a name="l00534"></a>00534                                         <span class="comment">/* heuristic - trying to make the distance from j to the source shorter */</span>
<a name="l00535"></a>00535                                         j -&gt; parent = a -&gt; sister;
<a name="l00536"></a>00536                                         j -&gt; TS = i -&gt; TS;
<a name="l00537"></a>00537                                         j -&gt; DIST = i -&gt; DIST + 1;
<a name="l00538"></a>00538                                 }
<a name="l00539"></a>00539                         }
<a name="l00540"></a>00540                 }
<a name="l00541"></a>00541                 <span class="keywordflow">else</span>
<a name="l00542"></a>00542                 {
<a name="l00543"></a>00543                         <span class="comment">/* grow sink tree */</span>
<a name="l00544"></a>00544                         <span class="keywordflow">for</span> (a=i-&gt;first; a; a=a-&gt;next)
<a name="l00545"></a>00545                         <span class="keywordflow">if</span> (a-&gt;sister-&gt;r_cap)
<a name="l00546"></a>00546                         {
<a name="l00547"></a>00547                                 j = a -&gt; head;
<a name="l00548"></a>00548                                 <span class="keywordflow">if</span> (!j-&gt;parent)
<a name="l00549"></a>00549                                 {
<a name="l00550"></a>00550                                         j -&gt; is_sink = 1;
<a name="l00551"></a>00551                                         j -&gt; parent = a -&gt; sister;
<a name="l00552"></a>00552                                         j -&gt; TS = i -&gt; TS;
<a name="l00553"></a>00553                                         j -&gt; DIST = i -&gt; DIST + 1;
<a name="l00554"></a>00554                                         <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(j);
<a name="l00555"></a>00555                                         <a class="code" href="class_graph.html#c55aa601858ada46d7d23e97539f6d93">add_to_changed_list</a>(j);
<a name="l00556"></a>00556                                 }
<a name="l00557"></a>00557                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!j-&gt;is_sink) { a = a -&gt; sister; <span class="keywordflow">break</span>; }
<a name="l00558"></a>00558                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j-&gt;TS &lt;= i-&gt;TS &amp;&amp;
<a name="l00559"></a>00559                                          j-&gt;DIST &gt; i-&gt;DIST)
<a name="l00560"></a>00560                                 {
<a name="l00561"></a>00561                                         <span class="comment">/* heuristic - trying to make the distance from j to the sink shorter */</span>
<a name="l00562"></a>00562                                         j -&gt; parent = a -&gt; sister;
<a name="l00563"></a>00563                                         j -&gt; TS = i -&gt; TS;
<a name="l00564"></a>00564                                         j -&gt; DIST = i -&gt; DIST + 1;
<a name="l00565"></a>00565                                 }
<a name="l00566"></a>00566                         }
<a name="l00567"></a>00567                 }
<a name="l00568"></a>00568 
<a name="l00569"></a>00569                 <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a> ++;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571                 <span class="keywordflow">if</span> (a)
<a name="l00572"></a>00572                 {
<a name="l00573"></a>00573                         i -&gt; next = i; <span class="comment">/* set active flag */</span>
<a name="l00574"></a>00574                         current_node = i;
<a name="l00575"></a>00575 
<a name="l00576"></a>00576                         <span class="comment">/* augmentation */</span>
<a name="l00577"></a>00577                         <a class="code" href="class_graph.html#ec68da456d839f925efd7fc8dd6c404a">augment</a>(a);
<a name="l00578"></a>00578                         <span class="comment">/* augmentation end */</span>
<a name="l00579"></a>00579 
<a name="l00580"></a>00580                         <span class="comment">/* adoption */</span>
<a name="l00581"></a>00581                         <span class="keywordflow">while</span> ((np=<a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a>))
<a name="l00582"></a>00582                         {
<a name="l00583"></a>00583                                 np_next = np -&gt; next;
<a name="l00584"></a>00584                                 np -&gt; next = NULL;
<a name="l00585"></a>00585 
<a name="l00586"></a>00586                                 <span class="keywordflow">while</span> ((np=<a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a>))
<a name="l00587"></a>00587                                 {
<a name="l00588"></a>00588                                         <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a> = np -&gt; next;
<a name="l00589"></a>00589                                         i = np -&gt; ptr;
<a name="l00590"></a>00590                                         <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> -&gt; Delete(np);
<a name="l00591"></a>00591                                         <span class="keywordflow">if</span> (!<a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a>) <a class="code" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a> = NULL;
<a name="l00592"></a>00592                                         <span class="keywordflow">if</span> (i-&gt;is_sink) <a class="code" href="class_graph.html#c9c4066a3f849ebc4de563eef0c49e86">process_sink_orphan</a>(i);
<a name="l00593"></a>00593                                         <span class="keywordflow">else</span>            <a class="code" href="class_graph.html#0762bbe440224d76e860cfcfe65ef5a8">process_source_orphan</a>(i);
<a name="l00594"></a>00594                                 }
<a name="l00595"></a>00595 
<a name="l00596"></a>00596                                 <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a> = np_next;
<a name="l00597"></a>00597                         }
<a name="l00598"></a>00598                         <span class="comment">/* adoption end */</span>
<a name="l00599"></a>00599                 }
<a name="l00600"></a>00600                 <span class="keywordflow">else</span> current_node = NULL;
<a name="l00601"></a>00601         }
<a name="l00602"></a>00602         <span class="comment">// test_consistency();</span>
<a name="l00603"></a>00603 
<a name="l00604"></a>00604         <span class="keywordflow">if</span> (!reuse_trees || (<a class="code" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a> % 64) == 0)
<a name="l00605"></a>00605         {
<a name="l00606"></a>00606                 <span class="keyword">delete</span> <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a>; 
<a name="l00607"></a>00607                 <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> = NULL; 
<a name="l00608"></a>00608         }
<a name="l00609"></a>00609 
<a name="l00610"></a>00610         <a class="code" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a> ++;
<a name="l00611"></a>00611         <span class="keywordflow">return</span> <a class="code" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a>;
<a name="l00612"></a>00612 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="955bf5b5522bac6f75ddbdb189b78b0c"></a><!-- doxytag: member="Graph::maxflow_init" ref="955bf5b5522bac6f75ddbdb189b78b0c" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::maxflow_init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00120">120</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00121"></a>00121 {
<a name="l00122"></a>00122         node *i;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[0] = <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[0] = NULL;
<a name="l00125"></a>00125         <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[1] = <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1] = NULL;
<a name="l00126"></a>00126         <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a> = NULL;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a> = 0;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         <span class="keywordflow">for</span> (i=<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>; i&lt;<a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a>; i++)
<a name="l00131"></a>00131         {
<a name="l00132"></a>00132                 i -&gt; next = NULL;
<a name="l00133"></a>00133                 i -&gt; is_marked = 0;
<a name="l00134"></a>00134                 i -&gt; is_in_changed_list = 0;
<a name="l00135"></a>00135                 i -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00136"></a>00136                 <span class="keywordflow">if</span> (i-&gt;tr_cap &gt; 0)
<a name="l00137"></a>00137                 {
<a name="l00138"></a>00138                         <span class="comment">/* i is connected to the source */</span>
<a name="l00139"></a>00139                         i -&gt; is_sink = 0;
<a name="l00140"></a>00140                         i -&gt; parent = <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>;
<a name="l00141"></a>00141                         <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(i);
<a name="l00142"></a>00142                         i -&gt; DIST = 1;
<a name="l00143"></a>00143                 }
<a name="l00144"></a>00144                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i-&gt;tr_cap &lt; 0)
<a name="l00145"></a>00145                 {
<a name="l00146"></a>00146                         <span class="comment">/* i is connected to the sink */</span>
<a name="l00147"></a>00147                         i -&gt; is_sink = 1;
<a name="l00148"></a>00148                         i -&gt; parent = <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>;
<a name="l00149"></a>00149                         <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(i);
<a name="l00150"></a>00150                         i -&gt; DIST = 1;
<a name="l00151"></a>00151                 }
<a name="l00152"></a>00152                 <span class="keywordflow">else</span>
<a name="l00153"></a>00153                 {
<a name="l00154"></a>00154                         i -&gt; parent = NULL;
<a name="l00155"></a>00155                 }
<a name="l00156"></a>00156         }
<a name="l00157"></a>00157 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d647cb5469788fe3c2cdd93d5d36444d"></a><!-- doxytag: member="Graph::maxflow_reuse_trees_init" ref="d647cb5469788fe3c2cdd93d5d36444d" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::maxflow_reuse_trees_init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
called if reuse_trees == false 
<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00160">160</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00161"></a>00161 {
<a name="l00162"></a>00162         node* i;
<a name="l00163"></a>00163         node* j;
<a name="l00164"></a>00164         node* queue = <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[1];
<a name="l00165"></a>00165         arc* a;
<a name="l00166"></a>00166         nodeptr* np;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168         <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[0] = <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[0] = NULL;
<a name="l00169"></a>00169         <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[1] = <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1] = NULL;
<a name="l00170"></a>00170         <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a> = <a class="code" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a> = NULL;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a> ++;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174         <span class="keywordflow">while</span> ((i=queue))
<a name="l00175"></a>00175         {
<a name="l00176"></a>00176                 queue = i-&gt;next;
<a name="l00177"></a>00177                 <span class="keywordflow">if</span> (queue == i) queue = NULL;
<a name="l00178"></a>00178                 i-&gt;next = NULL;
<a name="l00179"></a>00179                 i-&gt;is_marked = 0;
<a name="l00180"></a>00180                 <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(i);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182                 <span class="keywordflow">if</span> (i-&gt;tr_cap == 0)
<a name="l00183"></a>00183                 {
<a name="l00184"></a>00184                         <span class="keywordflow">if</span> (i-&gt;parent) <a class="code" href="class_graph.html#20e2f41b191c086ee67b85a72daffdfe">set_orphan_rear</a>(i);
<a name="l00185"></a>00185                         <span class="keywordflow">continue</span>;
<a name="l00186"></a>00186                 }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188                 <span class="keywordflow">if</span> (i-&gt;tr_cap &gt; 0)
<a name="l00189"></a>00189                 {
<a name="l00190"></a>00190                         <span class="keywordflow">if</span> (!i-&gt;parent || i-&gt;is_sink)
<a name="l00191"></a>00191                         {
<a name="l00192"></a>00192                                 i-&gt;is_sink = 0;
<a name="l00193"></a>00193                                 <span class="keywordflow">for</span> (a=i-&gt;first; a; a=a-&gt;next)
<a name="l00194"></a>00194                                 {
<a name="l00195"></a>00195                                         j = a-&gt;head;
<a name="l00196"></a>00196                                         <span class="keywordflow">if</span> (!j-&gt;is_marked)
<a name="l00197"></a>00197                                         {
<a name="l00198"></a>00198                                                 <span class="keywordflow">if</span> (j-&gt;parent == a-&gt;sister) <a class="code" href="class_graph.html#20e2f41b191c086ee67b85a72daffdfe">set_orphan_rear</a>(j);
<a name="l00199"></a>00199                                                 <span class="keywordflow">if</span> (j-&gt;parent &amp;&amp; j-&gt;is_sink &amp;&amp; a-&gt;r_cap &gt; 0) <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(j);
<a name="l00200"></a>00200                                         }
<a name="l00201"></a>00201                                 }
<a name="l00202"></a>00202                                 <a class="code" href="class_graph.html#c55aa601858ada46d7d23e97539f6d93">add_to_changed_list</a>(i);
<a name="l00203"></a>00203                         }
<a name="l00204"></a>00204                 }
<a name="l00205"></a>00205                 <span class="keywordflow">else</span>
<a name="l00206"></a>00206                 {
<a name="l00207"></a>00207                         <span class="keywordflow">if</span> (!i-&gt;parent || !i-&gt;is_sink)
<a name="l00208"></a>00208                         {
<a name="l00209"></a>00209                                 i-&gt;is_sink = 1;
<a name="l00210"></a>00210                                 <span class="keywordflow">for</span> (a=i-&gt;first; a; a=a-&gt;next)
<a name="l00211"></a>00211                                 {
<a name="l00212"></a>00212                                         j = a-&gt;head;
<a name="l00213"></a>00213                                         <span class="keywordflow">if</span> (!j-&gt;is_marked)
<a name="l00214"></a>00214                                         {
<a name="l00215"></a>00215                                                 <span class="keywordflow">if</span> (j-&gt;parent == a-&gt;sister) <a class="code" href="class_graph.html#20e2f41b191c086ee67b85a72daffdfe">set_orphan_rear</a>(j);
<a name="l00216"></a>00216                                                 <span class="keywordflow">if</span> (j-&gt;parent &amp;&amp; !j-&gt;is_sink &amp;&amp; a-&gt;sister-&gt;r_cap &gt; 0) <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(j);
<a name="l00217"></a>00217                                         }
<a name="l00218"></a>00218                                 }
<a name="l00219"></a>00219                                 <a class="code" href="class_graph.html#c55aa601858ada46d7d23e97539f6d93">add_to_changed_list</a>(i);
<a name="l00220"></a>00220                         }
<a name="l00221"></a>00221                 }
<a name="l00222"></a>00222                 i-&gt;parent = <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>;
<a name="l00223"></a>00223                 i -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00224"></a>00224                 i -&gt; DIST = 1;
<a name="l00225"></a>00225         }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227         <span class="comment">//test_consistency();</span>
<a name="l00228"></a>00228 
<a name="l00229"></a>00229         <span class="comment">/* adoption */</span>
<a name="l00230"></a>00230         <span class="keywordflow">while</span> ((np=<a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a>))
<a name="l00231"></a>00231         {
<a name="l00232"></a>00232                 <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a> = np -&gt; next;
<a name="l00233"></a>00233                 i = np -&gt; ptr;
<a name="l00234"></a>00234                 <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> -&gt; Delete(np);
<a name="l00235"></a>00235                 <span class="keywordflow">if</span> (!<a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a>) <a class="code" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a> = NULL;
<a name="l00236"></a>00236                 <span class="keywordflow">if</span> (i-&gt;is_sink) <a class="code" href="class_graph.html#c9c4066a3f849ebc4de563eef0c49e86">process_sink_orphan</a>(i);
<a name="l00237"></a>00237                 <span class="keywordflow">else</span>            <a class="code" href="class_graph.html#0762bbe440224d76e860cfcfe65ef5a8">process_source_orphan</a>(i);
<a name="l00238"></a>00238         }
<a name="l00239"></a>00239         <span class="comment">/* adoption end */</span>
<a name="l00240"></a>00240 
<a name="l00241"></a>00241         <span class="comment">//test_consistency();</span>
<a name="l00242"></a>00242 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="55ad5e744aa98c1f8a39b85c12a5c5d6"></a><!-- doxytag: member="Graph::next_active" ref="55ad5e744aa98c1f8a39b85c12a5c5d6" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="struct_graph_1_1node.html">node</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::next_active           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00053">53</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00054"></a>00054 {
<a name="l00055"></a>00055         node *i;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057         <span class="keywordflow">while</span> ( 1 )
<a name="l00058"></a>00058         {
<a name="l00059"></a>00059                 <span class="keywordflow">if</span> (!(i=<a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[0]))
<a name="l00060"></a>00060                 {
<a name="l00061"></a>00061                         <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[0] = i = <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[1];
<a name="l00062"></a>00062                         <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[0]  = <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1];
<a name="l00063"></a>00063                         <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[1] = NULL;
<a name="l00064"></a>00064                         <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1]  = NULL;
<a name="l00065"></a>00065                         <span class="keywordflow">if</span> (!i) <span class="keywordflow">return</span> NULL;
<a name="l00066"></a>00066                 }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068                 <span class="comment">/* remove it from the active list */</span>
<a name="l00069"></a>00069                 <span class="keywordflow">if</span> (i-&gt;next == i) <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[0] = <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[0] = NULL;
<a name="l00070"></a>00070                 <span class="keywordflow">else</span>              <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[0] = i -&gt; next;
<a name="l00071"></a>00071                 i -&gt; next = NULL;
<a name="l00072"></a>00072 
<a name="l00073"></a>00073                 <span class="comment">/* a node in the list is active iff it has a parent */</span>
<a name="l00074"></a>00074                 <span class="keywordflow">if</span> (i-&gt;parent) <span class="keywordflow">return</span> i;
<a name="l00075"></a>00075         }
<a name="l00076"></a>00076 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c9c4066a3f849ebc4de563eef0c49e86"></a><!-- doxytag: member="Graph::process_sink_orphan" ref="c9c4066a3f849ebc4de563eef0c49e86" args="(node *i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::process_sink_orphan           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00401">401</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00402"></a>00402 {
<a name="l00403"></a>00403         node *j;
<a name="l00404"></a>00404         arc *a0, *a0_min = NULL, *a;
<a name="l00405"></a>00405         <span class="keywordtype">int</span> d, d_min = <a class="code" href="maxflow_8cpp.html#a9bc927cb28ad2010a73a6506fb39519">INFINITE_D</a>;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407         <span class="comment">/* trying to find a new parent */</span>
<a name="l00408"></a>00408         <span class="keywordflow">for</span> (a0=i-&gt;first; a0; a0=a0-&gt;next)
<a name="l00409"></a>00409         <span class="keywordflow">if</span> (a0-&gt;r_cap)
<a name="l00410"></a>00410         {
<a name="l00411"></a>00411                 j = a0 -&gt; head;
<a name="l00412"></a>00412                 <span class="keywordflow">if</span> (j-&gt;is_sink &amp;&amp; (a=j-&gt;parent))
<a name="l00413"></a>00413                 {
<a name="l00414"></a>00414                         <span class="comment">/* checking the origin of j */</span>
<a name="l00415"></a>00415                         d = 0;
<a name="l00416"></a>00416                         <span class="keywordflow">while</span> ( 1 )
<a name="l00417"></a>00417                         {
<a name="l00418"></a>00418                                 <span class="keywordflow">if</span> (j-&gt;TS == <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>)
<a name="l00419"></a>00419                                 {
<a name="l00420"></a>00420                                         d += j -&gt; DIST;
<a name="l00421"></a>00421                                         <span class="keywordflow">break</span>;
<a name="l00422"></a>00422                                 }
<a name="l00423"></a>00423                                 a = j -&gt; parent;
<a name="l00424"></a>00424                                 d ++;
<a name="l00425"></a>00425                                 <span class="keywordflow">if</span> (a==<a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>)
<a name="l00426"></a>00426                                 {
<a name="l00427"></a>00427                                         j -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00428"></a>00428                                         j -&gt; DIST = 1;
<a name="l00429"></a>00429                                         <span class="keywordflow">break</span>;
<a name="l00430"></a>00430                                 }
<a name="l00431"></a>00431                                 <span class="keywordflow">if</span> (a==<a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a>) { d = <a class="code" href="maxflow_8cpp.html#a9bc927cb28ad2010a73a6506fb39519">INFINITE_D</a>; <span class="keywordflow">break</span>; }
<a name="l00432"></a>00432                                 j = a -&gt; head;
<a name="l00433"></a>00433                         }
<a name="l00434"></a>00434                         <span class="keywordflow">if</span> (d&lt;<a class="code" href="maxflow_8cpp.html#a9bc927cb28ad2010a73a6506fb39519">INFINITE_D</a>) <span class="comment">/* j originates from the sink - done */</span>
<a name="l00435"></a>00435                         {
<a name="l00436"></a>00436                                 <span class="keywordflow">if</span> (d&lt;d_min)
<a name="l00437"></a>00437                                 {
<a name="l00438"></a>00438                                         a0_min = a0;
<a name="l00439"></a>00439                                         d_min = d;
<a name="l00440"></a>00440                                 }
<a name="l00441"></a>00441                                 <span class="comment">/* set marks along the path */</span>
<a name="l00442"></a>00442                                 <span class="keywordflow">for</span> (j=a0-&gt;head; j-&gt;TS!=<a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>; j=j-&gt;parent-&gt;head)
<a name="l00443"></a>00443                                 {
<a name="l00444"></a>00444                                         j -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00445"></a>00445                                         j -&gt; DIST = d --;
<a name="l00446"></a>00446                                 }
<a name="l00447"></a>00447                         }
<a name="l00448"></a>00448                 }
<a name="l00449"></a>00449         }
<a name="l00450"></a>00450 
<a name="l00451"></a>00451         <span class="keywordflow">if</span> (i-&gt;parent = a0_min)
<a name="l00452"></a>00452         {
<a name="l00453"></a>00453                 i -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00454"></a>00454                 i -&gt; DIST = d_min + 1;
<a name="l00455"></a>00455         }
<a name="l00456"></a>00456         <span class="keywordflow">else</span>
<a name="l00457"></a>00457         {
<a name="l00458"></a>00458                 <span class="comment">/* no parent is found */</span>
<a name="l00459"></a>00459                 <a class="code" href="class_graph.html#c55aa601858ada46d7d23e97539f6d93">add_to_changed_list</a>(i);
<a name="l00460"></a>00460 
<a name="l00461"></a>00461                 <span class="comment">/* process neighbors */</span>
<a name="l00462"></a>00462                 <span class="keywordflow">for</span> (a0=i-&gt;first; a0; a0=a0-&gt;next)
<a name="l00463"></a>00463                 {
<a name="l00464"></a>00464                         j = a0 -&gt; head;
<a name="l00465"></a>00465                         <span class="keywordflow">if</span> (j-&gt;is_sink &amp;&amp; (a=j-&gt;parent))
<a name="l00466"></a>00466                         {
<a name="l00467"></a>00467                                 <span class="keywordflow">if</span> (a0-&gt;r_cap) <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(j);
<a name="l00468"></a>00468                                 <span class="keywordflow">if</span> (a!=<a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a> &amp;&amp; a!=<a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a> &amp;&amp; a-&gt;head==i)
<a name="l00469"></a>00469                                 {
<a name="l00470"></a>00470                                         <a class="code" href="class_graph.html#20e2f41b191c086ee67b85a72daffdfe">set_orphan_rear</a>(j); <span class="comment">// add j to the end of the adoption list</span>
<a name="l00471"></a>00471                                 }
<a name="l00472"></a>00472                         }
<a name="l00473"></a>00473                 }
<a name="l00474"></a>00474         }
<a name="l00475"></a>00475 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0762bbe440224d76e860cfcfe65ef5a8"></a><!-- doxytag: member="Graph::process_source_orphan" ref="0762bbe440224d76e860cfcfe65ef5a8" args="(node *i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::process_source_orphan           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00324">324</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00325"></a>00325 {
<a name="l00326"></a>00326         node *j;
<a name="l00327"></a>00327         arc *a0, *a0_min = NULL, *a;
<a name="l00328"></a>00328         <span class="keywordtype">int</span> d, d_min = <a class="code" href="maxflow_8cpp.html#a9bc927cb28ad2010a73a6506fb39519">INFINITE_D</a>;
<a name="l00329"></a>00329 
<a name="l00330"></a>00330         <span class="comment">/* trying to find a new parent */</span>
<a name="l00331"></a>00331         <span class="keywordflow">for</span> (a0=i-&gt;first; a0; a0=a0-&gt;next)
<a name="l00332"></a>00332         <span class="keywordflow">if</span> (a0-&gt;sister-&gt;r_cap)
<a name="l00333"></a>00333         {
<a name="l00334"></a>00334                 j = a0 -&gt; head;
<a name="l00335"></a>00335                 <span class="keywordflow">if</span> (!j-&gt;is_sink &amp;&amp; (a=j-&gt;parent))
<a name="l00336"></a>00336                 {
<a name="l00337"></a>00337                         <span class="comment">/* checking the origin of j */</span>
<a name="l00338"></a>00338                         d = 0;
<a name="l00339"></a>00339                         <span class="keywordflow">while</span> ( 1 )
<a name="l00340"></a>00340                         {
<a name="l00341"></a>00341                                 <span class="keywordflow">if</span> (j-&gt;TS == <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>)
<a name="l00342"></a>00342                                 {
<a name="l00343"></a>00343                                         d += j -&gt; DIST;
<a name="l00344"></a>00344                                         <span class="keywordflow">break</span>;
<a name="l00345"></a>00345                                 }
<a name="l00346"></a>00346                                 a = j -&gt; parent;
<a name="l00347"></a>00347                                 d ++;
<a name="l00348"></a>00348                                 <span class="keywordflow">if</span> (a==<a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>)
<a name="l00349"></a>00349                                 {
<a name="l00350"></a>00350                                         j -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00351"></a>00351                                         j -&gt; DIST = 1;
<a name="l00352"></a>00352                                         <span class="keywordflow">break</span>;
<a name="l00353"></a>00353                                 }
<a name="l00354"></a>00354                                 <span class="keywordflow">if</span> (a==<a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a>) { d = <a class="code" href="maxflow_8cpp.html#a9bc927cb28ad2010a73a6506fb39519">INFINITE_D</a>; <span class="keywordflow">break</span>; }
<a name="l00355"></a>00355                                 j = a -&gt; head;
<a name="l00356"></a>00356                         }
<a name="l00357"></a>00357                         <span class="keywordflow">if</span> (d&lt;<a class="code" href="maxflow_8cpp.html#a9bc927cb28ad2010a73a6506fb39519">INFINITE_D</a>) <span class="comment">/* j originates from the source - done */</span>
<a name="l00358"></a>00358                         {
<a name="l00359"></a>00359                                 <span class="keywordflow">if</span> (d&lt;d_min)
<a name="l00360"></a>00360                                 {
<a name="l00361"></a>00361                                         a0_min = a0;
<a name="l00362"></a>00362                                         d_min = d;
<a name="l00363"></a>00363                                 }
<a name="l00364"></a>00364                                 <span class="comment">/* set marks along the path */</span>
<a name="l00365"></a>00365                                 <span class="keywordflow">for</span> (j=a0-&gt;head; j-&gt;TS!=<a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>; j=j-&gt;parent-&gt;head)
<a name="l00366"></a>00366                                 {
<a name="l00367"></a>00367                                         j -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00368"></a>00368                                         j -&gt; DIST = d --;
<a name="l00369"></a>00369                                 }
<a name="l00370"></a>00370                         }
<a name="l00371"></a>00371                 }
<a name="l00372"></a>00372         }
<a name="l00373"></a>00373 
<a name="l00374"></a>00374         <span class="keywordflow">if</span> (i-&gt;parent = a0_min)
<a name="l00375"></a>00375         {
<a name="l00376"></a>00376                 i -&gt; TS = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00377"></a>00377                 i -&gt; DIST = d_min + 1;
<a name="l00378"></a>00378         }
<a name="l00379"></a>00379         <span class="keywordflow">else</span>
<a name="l00380"></a>00380         {
<a name="l00381"></a>00381                 <span class="comment">/* no parent is found */</span>
<a name="l00382"></a>00382                 <a class="code" href="class_graph.html#c55aa601858ada46d7d23e97539f6d93">add_to_changed_list</a>(i);
<a name="l00383"></a>00383 
<a name="l00384"></a>00384                 <span class="comment">/* process neighbors */</span>
<a name="l00385"></a>00385                 <span class="keywordflow">for</span> (a0=i-&gt;first; a0; a0=a0-&gt;next)
<a name="l00386"></a>00386                 {
<a name="l00387"></a>00387                         j = a0 -&gt; head;
<a name="l00388"></a>00388                         <span class="keywordflow">if</span> (!j-&gt;is_sink &amp;&amp; (a=j-&gt;parent))
<a name="l00389"></a>00389                         {
<a name="l00390"></a>00390                                 <span class="keywordflow">if</span> (a0-&gt;sister-&gt;r_cap) <a class="code" href="class_graph.html#f812cf6d4cdaec3551a768364d58b72b">set_active</a>(j);
<a name="l00391"></a>00391                                 <span class="keywordflow">if</span> (a!=<a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a> &amp;&amp; a!=<a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a> &amp;&amp; a-&gt;head==i)
<a name="l00392"></a>00392                                 {
<a name="l00393"></a>00393                                         <a class="code" href="class_graph.html#20e2f41b191c086ee67b85a72daffdfe">set_orphan_rear</a>(j); <span class="comment">// add j to the end of the adoption list</span>
<a name="l00394"></a>00394                                 }
<a name="l00395"></a>00395                         }
<a name="l00396"></a>00396                 }
<a name="l00397"></a>00397         }
<a name="l00398"></a>00398 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e973168dce8a6144c2a50ca2ea93376a"></a><!-- doxytag: member="Graph::reallocate_arcs" ref="e973168dce8a6144c2a50ca2ea93376a" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::reallocate_arcs           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
num is the number of new nodes 
<p>

<p>
Definition at line <a class="el" href="graph_8cpp-source.html#l00087">87</a> of file <a class="el" href="graph_8cpp-source.html">graph.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00088"></a>00088 {
<a name="l00089"></a>00089         <span class="keywordtype">int</span> arc_num_max = (int)(<a class="code" href="class_graph.html#42d7616b455d6ac73b7358b5537c5bdd">arc_max</a> - <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>);
<a name="l00090"></a>00090         <span class="keywordtype">int</span> arc_num = (int)(<a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> - <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>);
<a name="l00091"></a>00091         arc* arcs_old = <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         arc_num_max += arc_num_max / 2; <span class="keywordflow">if</span> (arc_num_max &amp; 1) arc_num_max ++;
<a name="l00094"></a>00094         <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> = (arc*) realloc(arcs_old, arc_num_max*<span class="keyword">sizeof</span>(arc));
<a name="l00095"></a>00095         <span class="keywordflow">if</span> (!<a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>) { <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>) (*error_function)(<span class="stringliteral">"Not enough memory!"</span>); exit(1); }
<a name="l00096"></a>00096 
<a name="l00097"></a>00097         <a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> = <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> + arc_num;
<a name="l00098"></a>00098         <a class="code" href="class_graph.html#42d7616b455d6ac73b7358b5537c5bdd">arc_max</a> = <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> + arc_num_max;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> != arcs_old)
<a name="l00101"></a>00101         {
<a name="l00102"></a>00102                 node* i;
<a name="l00103"></a>00103                 arc* a;
<a name="l00104"></a>00104                 <span class="keywordflow">for</span> (i=<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>; i&lt;<a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a>; i++)
<a name="l00105"></a>00105                 {
<a name="l00106"></a>00106                         <span class="keywordflow">if</span> (i-&gt;first) i-&gt;first = (arc*) ((<span class="keywordtype">char</span>*)i-&gt;first + (((<span class="keywordtype">char</span>*) <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>) - ((<span class="keywordtype">char</span>*) arcs_old)));
<a name="l00107"></a>00107                 }
<a name="l00108"></a>00108                 <span class="keywordflow">for</span> (a=<a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>; a&lt;<a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a>; a++)
<a name="l00109"></a>00109                 {
<a name="l00110"></a>00110                         <span class="keywordflow">if</span> (a-&gt;next) a-&gt;<a class="code" href="struct_graph_1_1arc.html#99df0148413a30a7d9828dfde0f41ce8">next</a> = (arc*) ((<span class="keywordtype">char</span>*)a-&gt;next + (((<span class="keywordtype">char</span>*) <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>) - ((<span class="keywordtype">char</span>*) arcs_old)));
<a name="l00111"></a>00111                         a-&gt;<a class="code" href="struct_graph_1_1arc.html#47237a367f598c72144daeaf39fbd35f">sister</a> = (arc*) ((<span class="keywordtype">char</span>*)a-&gt;sister + (((<span class="keywordtype">char</span>*) arcs) - ((<span class="keywordtype">char</span>*) arcs_old)));
<a name="l00112"></a>00112                 }
<a name="l00113"></a>00113         }
<a name="l00114"></a>00114 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="98ad17492bae402267e6e155ba31b7eb"></a><!-- doxytag: member="Graph::reallocate_nodes" ref="98ad17492bae402267e6e155ba31b7eb" args="(int num)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::reallocate_nodes           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
monotonically increasing global counter 
<p>

<p>
Definition at line <a class="el" href="graph_8cpp-source.html#l00063">63</a> of file <a class="el" href="graph_8cpp-source.html">graph.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00064"></a>00064 {
<a name="l00065"></a>00065         <span class="keywordtype">int</span> node_num_max = (int)(<a class="code" href="class_graph.html#cdef9be1536a836e4fd707a2adf0ac9d">node_max</a> - <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>);
<a name="l00066"></a>00066         node* nodes_old = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         node_num_max += node_num_max / 2;
<a name="l00069"></a>00069         <span class="keywordflow">if</span> (node_num_max &lt; <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a> + num) node_num_max = <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a> + num;
<a name="l00070"></a>00070         <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> = (node*) realloc(nodes_old, node_num_max*<span class="keyword">sizeof</span>(node));
<a name="l00071"></a>00071         <span class="keywordflow">if</span> (!<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>) { <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>) (*error_function)(<span class="stringliteral">"Not enough memory!"</span>); exit(1); }
<a name="l00072"></a>00072 
<a name="l00073"></a>00073         <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> + <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>;
<a name="l00074"></a>00074         <a class="code" href="class_graph.html#cdef9be1536a836e4fd707a2adf0ac9d">node_max</a> = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> + node_num_max;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a> != nodes_old)
<a name="l00077"></a>00077         {
<a name="l00078"></a>00078                 arc* a;
<a name="l00079"></a>00079                 <span class="keywordflow">for</span> (a=<a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>; a&lt;<a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a>; a++)
<a name="l00080"></a>00080                 {
<a name="l00081"></a>00081                         a-&gt;head = (node*) ((<span class="keywordtype">char</span>*)a-&gt;head + (((<span class="keywordtype">char</span>*) <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>) - ((<span class="keywordtype">char</span>*) nodes_old)));
<a name="l00082"></a>00082                 }
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7f8a692e81693a0d3c3b41b5e5552b15"></a><!-- doxytag: member="Graph::remove_from_changed_list" ref="7f8a692e81693a0d3c3b41b5e5552b15" args="(node_id i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::remove_from_changed_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If changed_list is not NULL while calling <a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow()</a>, then the algorithm keeps a list of nodes which could potentially have changed their segmentation label. Nodes which are not in the list are guaranteed to keep their old segmentation label (SOURCE or SINK). Example usage:<p>
typedef Graph&lt;int,int,int&gt; G; G* g = new Graph(nodeNum, edgeNum); Block&lt;G::node_id&gt;* changed_list = new Block&lt;G::node_id&gt;(128);<p>
... //! add nodes and edges<p>
g-&gt;<a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow()</a>; //! first call should be without arguments for (int iter=0; iter&lt;10; iter++) { ... //! change graph, call <a class="el" href="class_graph.html#4416a1275b95a7c98b334498697a0587">mark_node()</a> accordingly<p>
g-&gt;maxflow(true, changed_list); G::node_id* ptr; for (ptr=changed_list-&gt;ScanFirst(); ptr; ptr=changed_list-&gt;ScanNext()) { G::node_id i = *ptr; assert(i&gt;=0 &amp;&amp; i&lt;nodeNum); g-&gt;remove_from_changed_list(i); ! do something with node i... if (g-&gt;what_segment(i) == G::SOURCE) { ... } } changed_list-&gt;Reset(); } delete changed_list;<p>
NOTE:<ul>
<li>If changed_list option is used, then reuse_trees must be used as well.</li><li>In the example above, the user may omit calls g-&gt;remove_from_changed_list(i) and changed_list-&gt;Reset() in a given iteration. Then during the next call to maxflow(true, &amp;changed_list) new nodes will be added to changed_list.</li><li>If the next call to <a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow()</a> does not use option reuse_trees, then calling <a class="el" href="class_graph.html#7f8a692e81693a0d3c3b41b5e5552b15">remove_from_changed_list()</a> is not necessary. ("changed_list-&gt;Reset()" or "delete changed_list" should still be called, though). </li></ul>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00245">245</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00246"></a>00246         { 
<a name="l00247"></a>00247                 assert(i&gt;=0 &amp;&amp; i&lt;<a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a> &amp;&amp; <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].is_in_changed_list); 
<a name="l00248"></a>00248                 <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].<a class="code" href="struct_graph_1_1node.html#a2bb42a6664a7ed45b13a83e8b8bfd8d">is_in_changed_list</a> = 0;
<a name="l00249"></a>00249         }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e9325d452bf8e1cd354c221dfa3df434"></a><!-- doxytag: member="Graph::reset" ref="e9325d452bf8e1cd354c221dfa3df434" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::reset           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes all nodes and edges. After that functions <a class="el" href="class_graph.html#7a00b3b8101ad2b749364893a1dd951f">add_node()</a> and <a class="el" href="class_graph.html#11e1464f7a3a7b6b61da38684008f74a">add_edge()</a> must be called again.<p>
Advantage compared to deleting <a class="el" href="class_graph.html">Graph</a> and allocating it again: no calls to delete/new (which could be quite slow).<p>
If the graph structure stays the same, then an alternative is to go through all nodes/edges and set new residual capacities (see functions below). 
<p>
Definition at line <a class="el" href="graph_8cpp-source.html#l00046">46</a> of file <a class="el" href="graph_8cpp-source.html">graph.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00047"></a>00047 {
<a name="l00048"></a>00048         <a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a> = <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>;
<a name="l00049"></a>00049         <a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a> = <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a>;
<a name="l00050"></a>00050         <a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a> = 0;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a>) 
<a name="l00053"></a>00053         { 
<a name="l00054"></a>00054                 <span class="keyword">delete</span> <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a>; 
<a name="l00055"></a>00055                 <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> = NULL; 
<a name="l00056"></a>00056         }
<a name="l00057"></a>00057 
<a name="l00058"></a>00058         <a class="code" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a> = 0;
<a name="l00059"></a>00059         <a class="code" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a> = 0;
<a name="l00060"></a>00060 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="66b0812d7c9d531c6c3e13e64c0b92eb"></a><!-- doxytag: member="Graph::restore_arc" ref="66b0812d7c9d531c6c3e13e64c0b92eb" args="(arc *dest, const arc &amp;s)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::restore_arc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_graph_1_1arc.html">arc</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00397">397</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00397"></a>00397                                                    {
<a name="l00398"></a>00398                 dest-&gt;r_cap = s.r_cap;
<a name="l00399"></a>00399         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="aedea8c0309c9241a387a8e69fe1873d"></a><!-- doxytag: member="Graph::restore_node" ref="aedea8c0309c9241a387a8e69fe1873d" args="(node *dest, const node &amp;s)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::restore_node           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_graph_1_1node.html">node</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00401">401</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00401"></a>00401                                                       {
<a name="l00402"></a>00402                 dest-&gt;next = s.next;
<a name="l00403"></a>00403                 dest-&gt;parent = s.parent;
<a name="l00404"></a>00404                 dest-&gt;tr_cap = s.tr_cap;
<a name="l00405"></a>00405                 <span class="comment">//</span>
<a name="l00406"></a>00406                 dest-&gt;DIST = s.DIST;
<a name="l00407"></a>00407                 <span class="comment">//dest-&gt;is_marked = s.is_marked;</span>
<a name="l00408"></a>00408                 dest-&gt;is_sink = s.is_sink;
<a name="l00409"></a>00409                 dest-&gt;TS = s.TS;
<a name="l00410"></a>00410         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="eb97f74ce64e219b63358ffcdaeda11b"></a><!-- doxytag: member="Graph::restore_saved" ref="eb97f74ce64e219b63358ffcdaeda11b" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::restore_saved           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00412">412</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00412"></a>00412                             {
<a name="l00413"></a>00413                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#abaecf57bd669d8bc17ebb0d04be505c">nodes</a>.size();++i){
<a name="l00414"></a>00414                         <a class="code" href="class_graph.html#aedea8c0309c9241a387a8e69fe1873d">restore_node</a>(<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#abaecf57bd669d8bc17ebb0d04be505c">nodes</a>[i].dest,<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#abaecf57bd669d8bc17ebb0d04be505c">nodes</a>[i].saved);
<a name="l00415"></a>00415                 };
<a name="l00416"></a>00416                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#06f51e4ce61d291659daf6b809587515">arcs</a>.size();++i){
<a name="l00417"></a>00417                         <a class="code" href="class_graph.html#66b0812d7c9d531c6c3e13e64c0b92eb">restore_arc</a>(<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#06f51e4ce61d291659daf6b809587515">arcs</a>[i].dest,<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#06f51e4ce61d291659daf6b809587515">arcs</a>[i].saved);
<a name="l00418"></a>00418                 };
<a name="l00419"></a>00419                 <a class="code" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a> = <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#d8828d4dcc7d664484791057d52e42a3">flow</a>;
<a name="l00420"></a>00420                 <a class="code" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a> = <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#f1a3c3e8c63d6ac4f1107c185710fe93">maxflow_iteration</a>;
<a name="l00421"></a>00421                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;2;++i){
<a name="l00422"></a>00422                         <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[i] = <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#3256b4280d0fce3db6d42247a14db242">queue_first</a>[i];
<a name="l00423"></a>00423                         <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[i] = <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#5f2f234b17ef16fe98c85313d5a2ede3">queue_last</a>[i];
<a name="l00424"></a>00424                 };
<a name="l00425"></a>00425                 <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a> = <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#c24766e270da5e4abac5342e6775a9bc">TIME</a>;
<a name="l00426"></a>00426         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="243095ddfd5f94c57b651f4f92df74fb"></a><!-- doxytag: member="Graph::save" ref="243095ddfd5f94c57b651f4f92df74fb" args="(arc &amp;x)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00454">454</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00454"></a>00454                           {
<a name="l00455"></a>00455                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(&amp;x);
<a name="l00456"></a>00456         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c2dc9be75747b0fc54ce41f4963c2e53"></a><!-- doxytag: member="Graph::save" ref="c2dc9be75747b0fc54ce41f4963c2e53" args="(arc *x)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00447">447</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00447"></a>00447                           {
<a name="l00448"></a>00448                 <span class="keywordflow">if</span>(<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#93b17251ea5d2ab8a8bbf6eea8cecc96">started</a> &amp;&amp; !x-&gt;is_saved){
<a name="l00449"></a>00449                         <a class="code" href="class_graph.html#ff60768174321e83322d0933a8355fb2">save_arc</a>(x);
<a name="l00450"></a>00450                         x-&gt;is_saved = <span class="keyword">true</span>;
<a name="l00451"></a>00451                 };
<a name="l00452"></a>00452         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f17ecad9e940bf061b7736c9c27eaa3b"></a><!-- doxytag: member="Graph::save" ref="f17ecad9e940bf061b7736c9c27eaa3b" args="(node &amp;x)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00443">443</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00443"></a>00443                            {
<a name="l00444"></a>00444                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(&amp;x);
<a name="l00445"></a>00445         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9b4432eec7ce4e65f0fb927efafa7070"></a><!-- doxytag: member="Graph::save" ref="9b4432eec7ce4e65f0fb927efafa7070" args="(node *x)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00436">436</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00436"></a>00436                            {
<a name="l00437"></a>00437                 <span class="keywordflow">if</span>(<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#93b17251ea5d2ab8a8bbf6eea8cecc96">started</a> &amp;&amp; !x-&gt;is_saved){
<a name="l00438"></a>00438                         <a class="code" href="class_graph.html#31284b575c75e0acb1008fd36c31e667">save_node</a>(x);
<a name="l00439"></a>00439                         x-&gt;is_saved = <span class="keyword">true</span>;
<a name="l00440"></a>00440                 };
<a name="l00441"></a>00441         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ff60768174321e83322d0933a8355fb2"></a><!-- doxytag: member="Graph::save_arc" ref="ff60768174321e83322d0933a8355fb2" args="(arc *x)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::save_arc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00432">432</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00432"></a>00432                               {
<a name="l00433"></a>00433                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#06f51e4ce61d291659daf6b809587515">arcs</a>.push_back(graph_save::arc_saved(x));
<a name="l00434"></a>00434         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="31284b575c75e0acb1008fd36c31e667"></a><!-- doxytag: member="Graph::save_node" ref="31284b575c75e0acb1008fd36c31e667" args="(node *x)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::save_node           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>x</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00428">428</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00428"></a>00428                                 {
<a name="l00429"></a>00429                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#abaecf57bd669d8bc17ebb0d04be505c">nodes</a>.push_back(graph_save::node_saved(x));
<a name="l00430"></a>00430         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f812cf6d4cdaec3551a768364d58b72b"></a><!-- doxytag: member="Graph::set_active" ref="f812cf6d4cdaec3551a768364d58b72b" args="(node *i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::set_active           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
functions for processing active list 
<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00035">35</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00036"></a>00036 {
<a name="l00037"></a>00037         <span class="keywordflow">if</span> (!i-&gt;next)
<a name="l00038"></a>00038         {
<a name="l00039"></a>00039                 <span class="comment">/* it's not in the list yet */</span>
<a name="l00040"></a>00040                 <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1]) <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1] -&gt; next = i;
<a name="l00041"></a>00041                 <span class="keywordflow">else</span>               <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[1]        = i;
<a name="l00042"></a>00042                 <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[1] = i;
<a name="l00043"></a>00043                 i -&gt; next = i;
<a name="l00044"></a>00044         }
<a name="l00045"></a>00045 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="344a279a68b63feee27082fd1a96a7d0"></a><!-- doxytag: member="Graph::set_orphan_front" ref="344a279a68b63feee27082fd1a96a7d0" args="(node *i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::set_orphan_front           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
functions for processing orphans list 
<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00081">81</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00082"></a>00082 {
<a name="l00083"></a>00083         nodeptr *np;
<a name="l00084"></a>00084         i -&gt; parent = <a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a>;
<a name="l00085"></a>00085         np = <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> -&gt; New();
<a name="l00086"></a>00086         np -&gt; ptr = i;
<a name="l00087"></a>00087         np -&gt; next = <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a>;
<a name="l00088"></a>00088         <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a> = np;
<a name="l00089"></a>00089 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="20e2f41b191c086ee67b85a72daffdfe"></a><!-- doxytag: member="Graph::set_orphan_rear" ref="20e2f41b191c086ee67b85a72daffdfe" args="(node *i)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::set_orphan_rear           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
add to the beginning of the list 
<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00092">92</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 {
<a name="l00094"></a>00094         nodeptr *np;
<a name="l00095"></a>00095         i -&gt; parent = <a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a>;
<a name="l00096"></a>00096         np = <a class="code" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a> -&gt; New();
<a name="l00097"></a>00097         np -&gt; ptr = i;
<a name="l00098"></a>00098         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a>) <a class="code" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a> -&gt; next = np;
<a name="l00099"></a>00099         <span class="keywordflow">else</span>             <a class="code" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a>        = np;
<a name="l00100"></a>00100         <a class="code" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a> = np;
<a name="l00101"></a>00101         np -&gt; next = NULL;
<a name="l00102"></a>00102 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="963cd0b35c590984cc0dd82a57527a53"></a><!-- doxytag: member="Graph::set_rcap" ref="963cd0b35c590984cc0dd82a57527a53" args="(arc *a, captype rcap)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::set_rcap           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1arc.html">arc</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">captype&nbsp;</td>
          <td class="paramname"> <em>rcap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00588">588</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00589"></a>00589 {
<a name="l00590"></a>00590         assert(a &gt;= <a class="code" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a> &amp;&amp; a &lt; <a class="code" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a>);
<a name="l00591"></a>00591         a-&gt;r_cap = rcap;
<a name="l00592"></a>00592 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1e70647d3bef8f7270048155f211fdec"></a><!-- doxytag: member="Graph::set_trcap" ref="1e70647d3bef8f7270048155f211fdec" args="(node_id i, tcaptype trcap)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::set_trcap           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tcaptype&nbsp;</td>
          <td class="paramname"> <em>trcap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
4. Functions for setting residual capacities. // NOTE: If these functions are used, the value of the flow // returned by <a class="el" href="class_graph.html#3e08e85ad9530ecaac1e4c966cd68b1d">maxflow()</a> will not be valid! // 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00580">580</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00581"></a>00581 {
<a name="l00582"></a>00582         assert(i&gt;=0 &amp;&amp; i&lt;<a class="code" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a>);
<a name="l00583"></a>00583         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>(<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i]);
<a name="l00584"></a>00584         <a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].<a class="code" href="struct_graph_1_1node.html#65b4deb17b74e191c3b971fce4d16024">tr_cap</a> = trcap;
<a name="l00585"></a>00585 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="696acec5e654a2442d023b38ca9f2000"></a><!-- doxytag: member="Graph::start_save" ref="696acec5e654a2442d023b38ca9f2000" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::start_save           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00375">375</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00375"></a>00375                          {
<a name="l00376"></a>00376                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#abaecf57bd669d8bc17ebb0d04be505c">nodes</a>.size();++i){
<a name="l00377"></a>00377                         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#abaecf57bd669d8bc17ebb0d04be505c">nodes</a>[i].dest-&gt;is_saved = <span class="keyword">false</span>;
<a name="l00378"></a>00378                 };
<a name="l00379"></a>00379                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#06f51e4ce61d291659daf6b809587515">arcs</a>.size();++i){
<a name="l00380"></a>00380                         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#06f51e4ce61d291659daf6b809587515">arcs</a>[i].dest-&gt;is_saved = <span class="keyword">false</span>;
<a name="l00381"></a>00381                 };
<a name="l00382"></a>00382                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#abaecf57bd669d8bc17ebb0d04be505c">nodes</a>.clear();
<a name="l00383"></a>00383                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#06f51e4ce61d291659daf6b809587515">arcs</a>.clear();
<a name="l00384"></a>00384                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#d8828d4dcc7d664484791057d52e42a3">flow</a> = <a class="code" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a>;
<a name="l00385"></a>00385                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#f1a3c3e8c63d6ac4f1107c185710fe93">maxflow_iteration</a> = <a class="code" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a>;
<a name="l00386"></a>00386                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;2;++i){
<a name="l00387"></a>00387                         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#3256b4280d0fce3db6d42247a14db242">queue_first</a>[i] = <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[i];
<a name="l00388"></a>00388                         <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#5f2f234b17ef16fe98c85313d5a2ede3">queue_last</a>[i] = <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[i];
<a name="l00389"></a>00389                 };
<a name="l00390"></a>00390                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#c24766e270da5e4abac5342e6775a9bc">TIME</a> = <a class="code" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a>;
<a name="l00391"></a>00391                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#93b17251ea5d2ab8a8bbf6eea8cecc96">started</a> = <span class="keyword">true</span>;
<a name="l00392"></a>00392         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="40aa2e1d69ed0d2499b4fdee93700359"></a><!-- doxytag: member="Graph::stop_save" ref="40aa2e1d69ed0d2499b4fdee93700359" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::stop_save           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00393">393</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00393"></a>00393                         {
<a name="l00394"></a>00394                 <a class="code" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>.<a class="code" href="class_graph_1_1graph__save.html#93b17251ea5d2ab8a8bbf6eea8cecc96">started</a> = <span class="keyword">false</span>;
<a name="l00395"></a>00395         };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d821d9d5886800f2db0119063fbb2125"></a><!-- doxytag: member="Graph::test_consistency" ref="d821d9d5886800f2db0119063fbb2125" args="(node *current_node=NULL)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::test_consistency           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_graph_1_1node.html">node</a> *&nbsp;</td>
          <td class="paramname"> <em>current_node</em> = <code>NULL</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="maxflow_8cpp-source.html#l00618">618</a> of file <a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00619"></a>00619 {
<a name="l00620"></a>00620         node *i;
<a name="l00621"></a>00621         arc *a;
<a name="l00622"></a>00622         <span class="keywordtype">int</span> r;
<a name="l00623"></a>00623         <span class="keywordtype">int</span> num1 = 0, num2 = 0;
<a name="l00624"></a>00624 
<a name="l00625"></a>00625         <span class="comment">// test whether all nodes i with i-&gt;next!=NULL are indeed in the queue</span>
<a name="l00626"></a>00626         <span class="keywordflow">for</span> (i=<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>; i&lt;<a class="code" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a>; i++)
<a name="l00627"></a>00627         {
<a name="l00628"></a>00628                 <span class="keywordflow">if</span> (i-&gt;next || i==current_node) num1 ++;
<a name="l00629"></a>00629         }
<a name="l00630"></a>00630         <span class="keywordflow">for</span> (r=0; r&lt;3; r++)
<a name="l00631"></a>00631         {
<a name="l00632"></a>00632                 i = (r == 2) ? current_node : <a class="code" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[r];
<a name="l00633"></a>00633                 <span class="keywordflow">if</span> (i)
<a name="l00634"></a>00634                 <span class="keywordflow">for</span> ( ; ; i=i-&gt;next)
<a name="l00635"></a>00635                 {
<a name="l00636"></a>00636                         num2 ++;
<a name="l00637"></a>00637                         <span class="keywordflow">if</span> (i-&gt;next == i)
<a name="l00638"></a>00638                         {
<a name="l00639"></a>00639                                 if (r&lt;2){ assert(i == <a class="code" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[r]);
<a name="l00640"></a>00640                                 }<span class="keywordflow">else</span>     assert(i == current_node);
<a name="l00641"></a>00641                                 <span class="keywordflow">break</span>;
<a name="l00642"></a>00642                         }
<a name="l00643"></a>00643                 }
<a name="l00644"></a>00644         }
<a name="l00645"></a>00645         assert(num1 == num2);
<a name="l00646"></a>00646 
<a name="l00647"></a>00647         <span class="keywordflow">for</span> (i=<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>; i&lt;node_last; i++)
<a name="l00648"></a>00648         {
<a name="l00649"></a>00649                 <span class="comment">// test whether all edges in seach trees are non-saturated</span>
<a name="l00650"></a>00650                 <span class="keywordflow">if</span> (i-&gt;parent == NULL) {}
<a name="l00651"></a>00651                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i-&gt;parent == <a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a>) {}
<a name="l00652"></a>00652                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i-&gt;parent == <a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>)
<a name="l00653"></a>00653                 {
<a name="l00654"></a>00654                         if (!i-&gt;is_sink){ assert(i-&gt;tr_cap &gt; 0);
<a name="l00655"></a>00655                         }<span class="keywordflow">else</span>             assert(i-&gt;tr_cap &lt; 0);
<a name="l00656"></a>00656                 }
<a name="l00657"></a>00657                 <span class="keywordflow">else</span>
<a name="l00658"></a>00658                 {
<a name="l00659"></a>00659                         <span class="keywordflow">if</span> (!i-&gt;is_sink){ assert (i-&gt;parent-&gt;sister-&gt;r_cap &gt; 0);
<a name="l00660"></a>00660                         }<span class="keywordflow">else</span>             assert (i-&gt;parent-&gt;r_cap &gt; 0);
<a name="l00661"></a>00661                 }
<a name="l00662"></a>00662                 <span class="comment">// test whether passive nodes in search trees have neighbors in</span>
<a name="l00663"></a>00663                 <span class="comment">// a different tree through non-saturated edges</span>
<a name="l00664"></a>00664                 <span class="keywordflow">if</span> (i-&gt;parent &amp;&amp; !i-&gt;next)
<a name="l00665"></a>00665                 {
<a name="l00666"></a>00666                         <span class="keywordflow">if</span> (!i-&gt;is_sink)
<a name="l00667"></a>00667                         {
<a name="l00668"></a>00668                                 assert(i-&gt;tr_cap &gt;= 0);
<a name="l00669"></a>00669                                 <span class="keywordflow">for</span> (a=i-&gt;first; a; a=a-&gt;next)
<a name="l00670"></a>00670                                 {
<a name="l00671"></a>00671                                         <span class="keywordflow">if</span> (a-&gt;r_cap &gt; 0) assert(a-&gt;head-&gt;parent &amp;&amp; !a-&gt;head-&gt;is_sink);
<a name="l00672"></a>00672                                 }
<a name="l00673"></a>00673                         }
<a name="l00674"></a>00674                         <span class="keywordflow">else</span>
<a name="l00675"></a>00675                         {
<a name="l00676"></a>00676                                 assert(i-&gt;tr_cap &lt;= 0);
<a name="l00677"></a>00677                                 <span class="keywordflow">for</span> (a=i-&gt;first; a; a=a-&gt;next)
<a name="l00678"></a>00678                                 {
<a name="l00679"></a>00679                                         <span class="keywordflow">if</span> (a-&gt;sister-&gt;r_cap &gt; 0) assert(a-&gt;head-&gt;parent &amp;&amp; a-&gt;head-&gt;is_sink);
<a name="l00680"></a>00680                                 }
<a name="l00681"></a>00681                         }
<a name="l00682"></a>00682                 }
<a name="l00683"></a>00683                 <span class="comment">// test marking invariants</span>
<a name="l00684"></a>00684                 <span class="keywordflow">if</span> (i-&gt;parent &amp;&amp; i-&gt;parent!=<a class="code" href="maxflow_8cpp.html#d4caaed3ae8075a052077724e8a1d41f">ORPHAN</a> &amp;&amp; i-&gt;parent!=<a class="code" href="maxflow_8cpp.html#5250b667cb28dd60b71e6e04e23eac37">TERMINAL</a>)
<a name="l00685"></a>00685                 {
<a name="l00686"></a>00686                         assert(i-&gt;TS &lt;= i-&gt;parent-&gt;head-&gt;TS);
<a name="l00687"></a>00687                         <span class="keywordflow">if</span> (i-&gt;TS == i-&gt;parent-&gt;head-&gt;TS) assert(i-&gt;DIST &gt; i-&gt;parent-&gt;head-&gt;DIST);
<a name="l00688"></a>00688                 }
<a name="l00689"></a>00689         }
<a name="l00690"></a>00690 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c73a2f17861930048daf119eb5b12914"></a><!-- doxytag: member="Graph::what_segment" ref="c73a2f17861930048daf119eb5b12914" args="(node_id i, termtype default_segm=SOURCE)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa6364">termtype</a> <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::what_segment           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa6364">termtype</a>&nbsp;</td>
          <td class="paramname"> <em>default_segm</em> = <code>SOURCE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
After the maxflow is computed, this function returns to which segment the node 'i' belongs (<a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63646221461386d35791b16a5dc4b56f824a">Graph&lt;captype,tcaptype,flowtype&gt;::SOURCE</a> or <a class="el" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63645a789c2410ba06db9cad42084c8471c9">Graph&lt;captype,tcaptype,flowtype&gt;::SINK</a>).<p>
Occasionally there may be several minimum cuts. If a node can be assigned to both the source and the sink, then default_segm is returned. 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00596">596</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.<div class="fragment"><pre class="fragment"><a name="l00597"></a>00597 {
<a name="l00598"></a>00598         <span class="keywordflow">if</span> (<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].parent)
<a name="l00599"></a>00599         {
<a name="l00600"></a>00600                 <span class="keywordflow">return</span> (<a class="code" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a>[i].is_sink) ? <a class="code" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63645a789c2410ba06db9cad42084c8471c9">SINK</a> : <a class="code" href="class_graph.html#cf169ecfcbdb40fa5958e59a6daa63646221461386d35791b16a5dc4b56f824a">SOURCE</a>;
<a name="l00601"></a>00601         }
<a name="l00602"></a>00602         <span class="keywordflow">else</span>
<a name="l00603"></a>00603         {
<a name="l00604"></a>00604                 <span class="keywordflow">return</span> default_segm;
<a name="l00605"></a>00605         }
<a name="l00606"></a>00606 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="d8fff9cd9785fa4afde80efbb57c9676"></a><!-- doxytag: member="Graph::arc_last" ref="d8fff9cd9785fa4afde80efbb57c9676" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1arc.html">arc</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#d8fff9cd9785fa4afde80efbb57c9676">arc_last</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00304">304</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="42d7616b455d6ac73b7358b5537c5bdd"></a><!-- doxytag: member="Graph::arc_max" ref="42d7616b455d6ac73b7358b5537c5bdd" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1arc.html">arc</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#42d7616b455d6ac73b7358b5537c5bdd">arc_max</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
arc_last = arcs+2*edge_num, arc_max = arcs+2*edge_num_max; 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00304">304</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="f1ff9d48a5ae9870c0c714a13bba700d"></a><!-- doxytag: member="Graph::arcs" ref="f1ff9d48a5ae9870c0c714a13bba700d" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1arc.html">arc</a>* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#f1ff9d48a5ae9870c0c714a13bba700d">arcs</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00304">304</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="e05ccb8872211d6eb74d62813408bd65"></a><!-- doxytag: member="Graph::changed_list" ref="e05ccb8872211d6eb74d62813408bd65" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_block.html">Block</a>&lt;<a class="el" href="class_graph.html#742bf18e8f0945ef69830acf452b40b0">node_id</a>&gt;* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#e05ccb8872211d6eb74d62813408bd65">changed_list</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
counter 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00318">318</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="e11841f6fcd0981c1e3e85fcf98010ca"></a><!-- doxytag: member="Graph::error_function" ref="e11841f6fcd0981c1e3e85fcf98010ca" args=")(char *)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#e11841f6fcd0981c1e3e85fcf98010ca">error_function</a>)(char *)<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="96c02db415d78265b6e3abd49c4888cc"></a><!-- doxytag: member="Graph::flow" ref="96c02db415d78265b6e3abd49c4888cc" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">flowtype <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#96c02db415d78265b6e3abd49c4888cc">flow</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
with a corresponding error message (or exit(1) is called if it's NULL) 
<p>
Definition at line <a class="el" href="graph_8h-source.html#l00314">314</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="59f153549f029402b85eb8a997a3a0cd"></a><!-- doxytag: member="Graph::maxflow_iteration" ref="59f153549f029402b85eb8a997a3a0cd" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#59f153549f029402b85eb8a997a3a0cd">maxflow_iteration</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reusing trees &amp; list of changed pixels 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00317">317</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="1be57971c1221eca4217491498478b72"></a><!-- doxytag: member="Graph::node_last" ref="1be57971c1221eca4217491498478b72" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1node.html">node</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#1be57971c1221eca4217491498478b72">node_last</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00303">303</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="cdef9be1536a836e4fd707a2adf0ac9d"></a><!-- doxytag: member="Graph::node_max" ref="cdef9be1536a836e4fd707a2adf0ac9d" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1node.html">node</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#cdef9be1536a836e4fd707a2adf0ac9d">node_max</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
node_last = nodes+node_num, node_max = nodes+node_num_max; 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00303">303</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="64e777af8cd258e049fbc7015c913d50"></a><!-- doxytag: member="Graph::node_num" ref="64e777af8cd258e049fbc7015c913d50" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#64e777af8cd258e049fbc7015c913d50">node_num</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00306">306</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="44823e39f5deaae0af23b19c851420ce"></a><!-- doxytag: member="Graph::nodeptr_block" ref="44823e39f5deaae0af23b19c851420ce" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_block.html">DBlock</a>&lt;<a class="el" href="struct_graph_1_1nodeptr.html">nodeptr</a>&gt;* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#44823e39f5deaae0af23b19c851420ce">nodeptr_block</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00308">308</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="0f8bacba8049163f972d989cd810c610"></a><!-- doxytag: member="Graph::NODEPTR_BLOCK_SIZE" ref="0f8bacba8049163f972d989cd810c610" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#0f8bacba8049163f972d989cd810c610">NODEPTR_BLOCK_SIZE</a> = 128<code> [static, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00301">301</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="51657dbf51db1f0c7a8781b952022302"></a><!-- doxytag: member="Graph::nodes" ref="51657dbf51db1f0c7a8781b952022302" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1node.html">node</a>* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#51657dbf51db1f0c7a8781b952022302">nodes</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00303">303</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="f5ff91ef00947cffe6fda5bcbe02be08"></a><!-- doxytag: member="Graph::orphan_first" ref="f5ff91ef00947cffe6fda5bcbe02be08" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1nodeptr.html">nodeptr</a>* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#f5ff91ef00947cffe6fda5bcbe02be08">orphan_first</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
list of active nodes 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00323">323</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="a154390c723456c1f55264d59b4c0e7e"></a><!-- doxytag: member="Graph::orphan_last" ref="a154390c723456c1f55264d59b4c0e7e" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1nodeptr.html">nodeptr</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#a154390c723456c1f55264d59b4c0e7e">orphan_last</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00323">323</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="71af2512524df5a6750a2dec74c096b5"></a><!-- doxytag: member="Graph::queue_first" ref="71af2512524df5a6750a2dec74c096b5" args="[2]" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1node.html">node</a>* <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#71af2512524df5a6750a2dec74c096b5">queue_first</a>[2]<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00322">322</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="4c0044e81ad3fca1eff26b560c55f351"></a><!-- doxytag: member="Graph::queue_last" ref="4c0044e81ad3fca1eff26b560c55f351" args="[2]" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_graph_1_1node.html">node</a> * <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#4c0044e81ad3fca1eff26b560c55f351">queue_last</a>[2]<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00322">322</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="413f545ba222b9c346c6a615cc87f1a6"></a><!-- doxytag: member="Graph::save" ref="413f545ba222b9c346c6a615cc87f1a6" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_graph_1_1graph__save.html">graph_save</a> <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#413f545ba222b9c346c6a615cc87f1a6">save</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00374">374</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<a class="anchor" name="35a468d93b39f8b11f9d9aa78b18e864"></a><!-- doxytag: member="Graph::TIME" ref="35a468d93b39f8b11f9d9aa78b18e864" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename captype, typename tcaptype, typename flowtype&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_graph.html">Graph</a>&lt; captype, tcaptype, flowtype &gt;::<a class="el" href="class_graph.html#35a468d93b39f8b11f9d9aa78b18e864">TIME</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
list of pointers to orphans 
<p>

<p>
Definition at line <a class="el" href="graph_8h-source.html#l00324">324</a> of file <a class="el" href="graph_8h-source.html">graph.h</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>D:/usr/shekhovtsov/dev/code/maxflow-v3.0/<a class="el" href="graph_8h-source.html">graph.h</a><li>D:/usr/shekhovtsov/dev/code/maxflow-v3.0/<a class="el" href="graph_8cpp-source.html">graph.cpp</a><li>D:/usr/shekhovtsov/dev/code/maxflow-v3.0/<a class="el" href="maxflow_8cpp-source.html">maxflow.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Oct 26 18:22:21 2008 for maxflow-v3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
